{"ast":null,"code":"import \"core-js/modules/es.number.constructor.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.match.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport '../../../govuk/vendor/polyfills/Function/prototype/bind';\nimport '../../../govuk/vendor/polyfills/Event'; // addEventListener and event.target normalization\nimport { toggleClass } from \"../../common\";\nfunction SearchResults($module) {\n  this.$module = $module;\n}\nSearchResults.prototype.init = function () {\n  // Check for module\n  if (!this.$module) {\n    return;\n  }\n  var $module = this.$module;\n  $module.resultCards = new Array();\n  $module.countOfCardsPerPage = new Number();\n  $module.currentPageNumber = new Number();\n  $module.subTopicButton = $module.querySelector('.idsk-search-results__subtopic');\n  if ($module.subTopicButton) {\n    $module.subTopicButton.disabled = true;\n  }\n\n  // Check for button\n  var $links = $module.querySelectorAll('.idsk-search-results__link');\n  if (!$links) {\n    return;\n  }\n  var $resultsPerPageDropdown = $module.querySelector('.idsk-search-results__content .govuk-select');\n  if (!$resultsPerPageDropdown) {\n    return;\n  }\n  var $backButton = $module.querySelector('.idsk-search-results__button--back');\n  if (!$backButton) {\n    return;\n  }\n  var $forwardButton = $module.querySelector('.idsk-search-results__button--forward');\n  if (!$forwardButton) {\n    return;\n  }\n  var $backButtonMobile = $module.querySelector('.idsk-search-results__button--back__mobile');\n  if (!$backButton) {\n    return;\n  }\n  var $forwardButtonMobile = $module.querySelector('.idsk-search-results__button--forward__mobile');\n  if (!$forwardButton) {\n    return;\n  }\n  $module.resultCards = $module.querySelectorAll('.idsk-search-results__card');\n  if (!$module.resultCards) {\n    return;\n  }\n  var $linkPanelButtons = $module.querySelectorAll('.idsk-search-results__link-panel-button');\n  if (!$linkPanelButtons) {\n    return;\n  }\n  var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button');\n  if (!$filtersButtonMobile) {\n    return;\n  }\n  var $turnFiltersOffButtonMobile = $module.querySelector('.idsk-search-results__button--turn-filters-off');\n  if (!$turnFiltersOffButtonMobile) {\n    return;\n  }\n  var $showResultsButtonMobile = $module.querySelector('.idsk-search-results__button-show-results');\n  if (!$showResultsButtonMobile) {\n    return;\n  }\n  var $backToResultsButtonMobile = $module.querySelector('.idsk-search-results__button--back-to-results');\n  if (!$backToResultsButtonMobile) {\n    return;\n  }\n  var $radioButtonsInput = $module.querySelectorAll('.idsk-search-results__filter .govuk-radios__input ');\n  if (!$radioButtonsInput) {\n    return;\n  }\n  var $contentTypeCheckBoxes = $module.querySelectorAll('.idsk-search-results__filter .govuk-checkboxes__input ');\n  if (!$contentTypeCheckBoxes) {\n    return;\n  }\n  var $dateFrom = $module.querySelector('#datum-od');\n  var $dateTo = $module.querySelector('#datum-do');\n  var $topicSearchInput = $module.querySelector('#idsk-search-input__topic');\n  if ($topicSearchInput) {\n    $topicSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'radios'));\n  }\n  var $subtopicSearchInput = $module.querySelector('#idsk-search-input__subtopic');\n  if ($subtopicSearchInput) {\n    $subtopicSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'radios'));\n  }\n  var $contentTypeSearchInput = $module.querySelector('#idsk-search-input__content-type');\n  if ($contentTypeSearchInput) {\n    $contentTypeSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'checkboxes'));\n  }\n  if ($dateFrom) {\n    $dateFrom.addEventListener('focusout', this.handleFillDate.bind(this, 'from'));\n    if ($dateFrom.value != '') {\n      this.handleFillDate.call(this, 'from', $dateFrom);\n    }\n    $dateTo.addEventListener('focusout', this.handleFillDate.bind(this, 'to'));\n    if ($dateTo.value != '') {\n      this.handleFillDate.call(this, 'to', $dateTo);\n    }\n  }\n  $backButton.addEventListener('click', this.handleClickPreviousPage.bind(this));\n  $forwardButton.addEventListener('click', this.handleClickNextPage.bind(this));\n  $backButtonMobile.addEventListener('click', this.handleClickPreviousPage.bind(this));\n  $forwardButtonMobile.addEventListener('click', this.handleClickNextPage.bind(this));\n  $filtersButtonMobile.addEventListener('click', this.handleClickFiltersButton.bind(this));\n  $turnFiltersOffButtonMobile.addEventListener('click', this.handleClickTurnFiltersOffButton.bind(this));\n  $showResultsButtonMobile.addEventListener('click', this.handleClickShowResultsButton.bind(this));\n  $backToResultsButtonMobile.addEventListener('click', this.handleClickShowResultsButton.bind(this));\n  $module.boundHandleClickLinkPanel = this.handleClickLinkPanel.bind(this);\n\n  // set selected value in dropdown\n  $module.countOfCardsPerPage = $resultsPerPageDropdown.value;\n  $module.currentPageNumber = 1;\n  this.showResultCardsPerPage.call(this, 0, $resultsPerPageDropdown.value);\n  $resultsPerPageDropdown.addEventListener('change', this.handleClickResultsPerPageDropdown.bind(this));\n  $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(0)';\n  $linkPanelButtons.forEach(function ($button) {\n    $button.addEventListener('click', $module.boundHandleClickLinkPanel, true);\n  }.bind(this));\n  $radioButtonsInput.forEach(function ($input) {\n    $input.addEventListener('click', this.handleClickRadioButton.bind(this), true);\n    if ($input.checked) {\n      this.handleClickRadioButton.call(this, $input);\n    }\n  }.bind(this));\n  $contentTypeCheckBoxes.forEach(function ($checkBox) {\n    $checkBox.addEventListener('click', this.handleClickContentTypeCheckBox.bind(this), true);\n    if ($checkBox.checked) {\n      this.handleClickContentTypeCheckBox.call(this, $checkBox);\n    }\n  }.bind(this));\n  this.handleClickFiltersButton.call(this);\n  this.handleClickShowResultsButton.call(this);\n};\n\n/**\n * function for handling show results button and 'back to results' button in mobile view\n * hiding and showing elements - mobile version only\n *\n */\nSearchResults.prototype.handleClickShowResultsButton = function (e) {\n  var $module = this.$module;\n  var $filterBar = $module.querySelector('.idsk-search-results__filter');\n  var $searchBar = $module.querySelector('.idsk-search-results .idsk-search-results__search-bar');\n  var $searchBarTitle = $module.querySelector('.idsk-search-results .idsk-intro-block__search__span');\n  var $orderByDropdown = $module.querySelector('.idsk-search-results--order__dropdown');\n  var $resultsPerPage = $module.querySelector('.idsk-search-results__filter-panel--mobile');\n  var $orderByDropdownMobile = $module.querySelector('.idsk-search-results--order');\n  var $pagingMobile = $module.querySelector('.idsk-search-results__page-number--mobile');\n  var $pagingDesktop = $module.querySelector('.idsk-search-results__content__page-changer');\n  var $searchResultsAll = $module.querySelector('.idsk-search-results__content__all');\n  var $filterHeaderPanel = $module.querySelector('.idsk-search-results__filter-header-panel');\n  var $pickedFiltersPanel = $module.querySelector('.idsk-search-results__content__picked-filters');\n  var $showResultsButton = $module.querySelector('.idsk-search-results__show-results__button');\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n  var $title = $module.querySelector('.idsk-search-results__title');\n  var $header = document.getElementsByTagName('header');\n  var $footer = document.getElementsByTagName('footer');\n  var $breadcrumbs = document.getElementsByClassName('govuk-breadcrumbs');\n  $title.classList.remove('idsk-search-results--invisible__mobile');\n  $contentContainer.classList.remove('idsk-search-results--invisible__mobile');\n  $showResultsButton.classList.add('idsk-search-results--invisible');\n  $pickedFiltersPanel.classList.add('idsk-search-results--invisible__mobile');\n  $filterBar.classList.remove('idsk-search-results--visible');\n  $filterHeaderPanel.classList.remove('idsk-search-results--visible__mobile--inline');\n  $searchResultsAll.classList.remove('idsk-search-results--invisible__mobile');\n  $pagingMobile.classList.remove('idsk-search-results--invisible');\n  $pagingDesktop.classList.remove('idsk-search-results--invisible__mobile');\n  $searchBar.classList.remove('idsk-search-results--invisible__mobile');\n  if ($searchBarTitle) {\n    $searchBarTitle.classList.remove('idsk-search-results--invisible__mobile');\n  }\n  $orderByDropdown.classList.remove('idsk-search-results--invisible__mobile');\n  $resultsPerPage.classList.remove('idsk-search-results--invisible__mobile');\n  $orderByDropdownMobile.classList.remove('idsk-search-results--invisible');\n  if ($header[0] && $footer[0] && $breadcrumbs[0]) {\n    $header[0].classList.remove('idsk-search-results--invisible__mobile');\n    $footer[0].classList.remove('idsk-search-results--invisible__mobile');\n    $breadcrumbs[0].classList.remove('idsk-search-results--invisible__mobile');\n  }\n};\n\n/**\n * function for handling whether is some filter picked, because of hiding and showing elements in container with picked items\n * returns boolean\n *\n */\nSearchResults.prototype.handleSomeFilterPicked = function (e) {\n  var $module = this.$module;\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n  var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic');\n  var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type');\n  var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date');\n  var $isFilterPicked = $pickedTopics.length > 0 || $pickedContentTypes.length > 0 || $pickedDates.length > 0;\n  if ($isFilterPicked) {\n    $contentContainer.classList.remove('idsk-search-results--invisible__mobile');\n  } else {\n    $contentContainer.classList.add('idsk-search-results--invisible__mobile');\n  }\n  return $isFilterPicked;\n};\n\n/**\n * function for counting selected filters, for mobile button 'Filters' purposes\n *\n */\nSearchResults.prototype.handleCountForFiltersButton = function (e) {\n  var $module = this.$module;\n  var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic');\n  var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type');\n  var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date');\n  var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button');\n  var $countOfPickedFilters = $pickedTopics.length + $pickedContentTypes.length + $pickedDates.length;\n  $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(' + $countOfPickedFilters + ')';\n};\n\n/**\n * function for disabling all picked filters\n *\n */\nSearchResults.prototype.handleClickTurnFiltersOffButton = function (e) {\n  var $module = this.$module;\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n  var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic');\n  var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type');\n  var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date');\n  var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button');\n  $contentContainer.classList.add('idsk-search-results--invisible__mobile');\n  $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(0)';\n  $pickedTopics.forEach(function ($topic) {\n    this.handleRemovePickedTopic.call(this, $topic);\n  }.bind(this));\n  $pickedContentTypes.forEach(function ($contentType) {\n    this.handleRemovePickedContentType.call(this, $contentType);\n  }.bind(this));\n  $pickedDates.forEach(function ($date) {\n    this.handleRemovePickedDate.call(this, $date);\n  }.bind(this));\n};\n\n/**\n * function for changing view for mobile after click on \"Filters\" button\n *\n */\nSearchResults.prototype.handleClickFiltersButton = function (e) {\n  var $module = this.$module;\n  var $filterBar = $module.querySelector('.idsk-search-results__filter');\n  var $searchBar = $module.querySelector('.idsk-search-results .idsk-search-results__search-bar');\n  var $searchBarTitle = $module.querySelector('.idsk-search-results .idsk-intro-block__search__span');\n  var $orderByDropdown = $module.querySelector('.idsk-search-results--order__dropdown');\n  var $resultsPerPage = $module.querySelector('.idsk-search-results__filter-panel--mobile');\n  var $orderByDropdownMobile = $module.querySelector('.idsk-search-results--order');\n  var $pagingMobile = $module.querySelector('.idsk-search-results__page-number--mobile');\n  var $pagingDesktop = $module.querySelector('.idsk-search-results__content__page-changer');\n  var $searchResultsAll = $module.querySelector('.idsk-search-results__content__all');\n  var $filterHeaderPanel = $module.querySelector('.idsk-search-results__filter-header-panel');\n  var $pickedFiltersPanel = $module.querySelector('.idsk-search-results__content__picked-filters');\n  var $showResultsButton = $module.querySelector('.idsk-search-results__show-results__button');\n  var $title = $module.querySelector('.idsk-search-results__title');\n  var $header = document.getElementsByTagName('header');\n  var $footer = document.getElementsByTagName('footer');\n  var $breadcrumbs = document.getElementsByClassName('govuk-breadcrumbs');\n  if (this.handleSomeFilterPicked.call(this)) {\n    $showResultsButton.classList.remove('idsk-search-results--invisible');\n    $pickedFiltersPanel.classList.remove('idsk-search-results--invisible__mobile');\n  }\n  $title.classList.add('idsk-search-results--invisible__mobile');\n  $filterBar.classList.add('idsk-search-results--visible');\n  $filterHeaderPanel.classList.add('idsk-search-results--visible__mobile--inline');\n  $searchResultsAll.classList.add('idsk-search-results--invisible__mobile');\n  $pagingMobile.classList.add('idsk-search-results--invisible');\n  $pagingDesktop.classList.add('idsk-search-results--invisible__mobile');\n  $searchBar.classList.add('idsk-search-results--invisible__mobile');\n  if ($searchBarTitle) {\n    $searchBarTitle.classList.add('idsk-search-results--invisible__mobile');\n  }\n  $orderByDropdown.classList.add('idsk-search-results--invisible__mobile');\n  $resultsPerPage.classList.add('idsk-search-results--invisible__mobile');\n  if ($header[0] && $footer[0] && $breadcrumbs[0]) {\n    $header[0].classList.add('idsk-search-results--invisible__mobile');\n    $footer[0].classList.add('idsk-search-results--invisible__mobile');\n    $breadcrumbs[0].classList.add('idsk-search-results--invisible__mobile');\n  }\n  $orderByDropdownMobile.classList.add('idsk-search-results--invisible');\n};\nSearchResults.prototype.handleClickPreviousPage = function (e) {\n  var $module = this.$module;\n  location.href = \"#\";\n  $module.currentPageNumber = $module.currentPageNumber - 1;\n  this.showResultCardsPerPage.call(this, $module.countOfCardsPerPage * ($module.currentPageNumber - 1), $module.countOfCardsPerPage * $module.currentPageNumber);\n};\nSearchResults.prototype.handleClickNextPage = function (e) {\n  var $module = this.$module;\n  location.href = \"#\";\n  $module.currentPageNumber = $module.currentPageNumber + 1;\n  this.showResultCardsPerPage.call(this, $module.countOfCardsPerPage * ($module.currentPageNumber - 1), $module.countOfCardsPerPage * $module.currentPageNumber);\n};\nSearchResults.prototype.handleClickResultsPerPageDropdown = function (e) {\n  var $el = e.target || e.srcElement;\n  var $module = this.$module;\n  $module.countOfCardsPerPage = $el.value;\n  this.showResultCardsPerPage.call(this, 0, $el.value);\n};\nSearchResults.prototype.handleSearchItemsFromInput = function ($type, e) {\n  var $el = e.target || e.srcElement;\n  var $linkPanelButton = $el.closest('.idsk-search-results__link-panel');\n  var $items = $linkPanelButton.querySelectorAll('.govuk-' + $type + '__item');\n  $items.forEach(function ($item) {\n    $item.classList.remove('idsk-search-results--invisible');\n  }.bind(this));\n  $items.forEach(function ($item) {\n    var $labelItem = $item.querySelector('.govuk-' + $type + '__label');\n    if (!$labelItem.innerText.toLowerCase().includes($el.value.toLowerCase())) {\n      $item.classList.add('idsk-search-results--invisible');\n    }\n  }.bind(this));\n};\nSearchResults.prototype.handleFillDate = function ($period, e) {\n  var $el = e.target || e.srcElement || e;\n  var $module = this.$module;\n  var $choosenDatesInFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__date');\n  var $class = 'idsk-search-results__picked-date';\n  var $dateElementInContainer = $choosenDatesInFiltersContainer.querySelector('[data-source=\"' + $el.id + '\"]');\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n  if ($el.value == '' || !($el.value.match(/^(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})$/) || $el.value.match(/^(\\d{4})$/))) {\n    return;\n  }\n  if ($el.value && !$dateElementInContainer) {\n    var $contentTypePicked = this.createTopicInContainer.call(this, $choosenDatesInFiltersContainer, $el.id, $class, $el, $el.id == 'datum-od' ? true : false);\n  } else if ($dateElementInContainer) {\n    $contentTypePicked = $dateElementInContainer;\n    $contentTypePicked.innerHTML = $el.value + ' &#10005;';\n  }\n  $contentContainer.classList.remove('idsk-search-results--invisible__mobile');\n  $contentTypePicked.addEventListener('click', this.handleRemovePickedDate.bind(this));\n  $el.value = '';\n  $choosenDatesInFiltersContainer.classList.remove('idsk-search-results--invisible');\n  this.checkValuesInDateContainer.call(this);\n  this.changeBackgroundForPickedFilters.call(this);\n};\nSearchResults.prototype.handleRemovePickedDate = function (e) {\n  var $el = e.target || e.srcElement || e;\n  $el.remove();\n  this.handleSomeFilterPicked.call(this);\n  this.checkValuesInDateContainer.call(this);\n  this.handleCountForFiltersButton.call(this);\n  this.changeBackgroundForPickedFilters.call(this);\n};\nSearchResults.prototype.createSpanElement = function ($class, $text) {\n  var $spanElement = document.createElement('span');\n  $spanElement.setAttribute('class', $class);\n  $spanElement.innerHTML = $text;\n  return $spanElement;\n};\n\n/**\n * function for checking whether is there any date items selected in container\n *\n */\nSearchResults.prototype.checkValuesInDateContainer = function (e) {\n  var $choosenDatesInFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__date');\n  var $beforeDateClass = 'idsk-search-results__before-date';\n  var $afterDateClass = 'idsk-search-results__after-date';\n  var $beforeDateSpan = $choosenDatesInFiltersContainer.querySelector('.' + $beforeDateClass);\n  var $afterDateSpan = $choosenDatesInFiltersContainer.querySelector('.' + $afterDateClass);\n  $beforeDateSpan ? $beforeDateSpan.remove() : false;\n  $afterDateSpan ? $afterDateSpan.remove() : false;\n  if (!$choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]') && !$choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n    $choosenDatesInFiltersContainer.classList.add('idsk-search-results--invisible');\n    return;\n  }\n  if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]') && $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n    var $beforeDateSpan = this.createSpanElement.call(this, $beforeDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.middle);\n    var $afterDateSpan = this.createSpanElement.call(this, $afterDateClass, 'a ');\n    $choosenDatesInFiltersContainer.insertBefore($beforeDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]'));\n    $choosenDatesInFiltersContainer.insertBefore($afterDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]'));\n  } else if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]')) {\n    var $beforeDateSpan = this.createSpanElement.call(this, $beforeDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.after);\n    $choosenDatesInFiltersContainer.insertBefore($beforeDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]'));\n  } else if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n    var $afterDateSpan = this.createSpanElement.call(this, $afterDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.before);\n    $choosenDatesInFiltersContainer.insertBefore($afterDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]'));\n  }\n};\n\n/**\n * function for changing number of cards on page\n *\n */\nSearchResults.prototype.showResultCardsPerPage = function ($startIndex, $endIndex) {\n  var $module = this.$module;\n  var $backButton = $module.querySelector('.idsk-search-results__button--back');\n  var $forwardButton = $module.querySelector('.idsk-search-results__button--forward');\n  var $pageNumber = $module.querySelector('.idsk-search-results__page-number');\n  var $backButtonMobile = $module.querySelector('.idsk-search-results__button--back__mobile');\n  var $forwardButtonMobile = $module.querySelector('.idsk-search-results__button--forward__mobile');\n  var $pageNumberMobile = $module.querySelector('.idsk-search-results__page-number__mobile');\n  var $i;\n\n  //hide all cards\n  $module.resultCards.forEach(function ($card) {\n    if (!$card.classList.contains('idsk-search-results--invisible')) {\n      $card.classList.add('idsk-search-results--invisible');\n    }\n  }.bind(this));\n  if ($endIndex >= $module.resultCards.length) {\n    $endIndex = $module.resultCards.length;\n    $forwardButton.classList.add('idsk-search-results--hidden');\n    $backButton.classList.remove('idsk-search-results--hidden');\n    $forwardButtonMobile.classList.add('idsk-search-results--hidden');\n    $backButtonMobile.classList.remove('idsk-search-results--hidden');\n  } else {\n    $forwardButton.classList.remove('idsk-search-results--hidden');\n    $forwardButtonMobile.classList.remove('idsk-search-results--hidden');\n  }\n  if ($startIndex < 0) {\n    $startIndex = 0;\n  } else if ($startIndex > 0) {\n    $backButton.classList.remove('idsk-search-results--hidden');\n    $backButtonMobile.classList.remove('idsk-search-results--hidden');\n  } else if ($startIndex == 0) {\n    $module.currentPageNumber = 1;\n  }\n  for ($i = $startIndex; $i < $endIndex; $i++) {\n    $module.resultCards[$i].classList.remove('idsk-search-results--invisible');\n  }\n\n  // hide back button if 1st page is showed\n  if ($startIndex == 0 && !$backButton.classList.contains('idsk-search-results--hidden')) {\n    $backButton.classList.add('idsk-search-results--hidden');\n    $backButtonMobile.classList.add('idsk-search-results--hidden');\n  }\n  var $numberOfPages = ($module.resultCards.length / $module.countOfCardsPerPage | 0) + 1;\n  var $pageNumberSpan = $module.querySelector('.idsk-search-results__page-number span');\n  var $pageNumberText = $pageNumberSpan.dataset.lines.replace(\"$value1\", $module.currentPageNumber).replace(\"$value2\", $numberOfPages);\n  $pageNumberSpan.innerText = $pageNumberText;\n  $pageNumberMobile.innerText = $pageNumberText;\n};\n\n/**\n * An event handler for click event on $linkPanel - collapse or expand filter\n * @param {object} e\n */\nSearchResults.prototype.handleClickLinkPanel = function (e) {\n  var $el = e.target || e.srcElement;\n  var $linkPanelButton = $el.closest('.idsk-search-results__link-panel');\n  var $contentPanel = $linkPanelButton.querySelector('.idsk-search-results__list');\n  toggleClass($contentPanel, 'idsk-search-results--hidden');\n  toggleClass($linkPanelButton, 'idsk-search-results--expand');\n};\n\n/**\n * An event handler for click event on radio button\n * @param {object} e\n */\nSearchResults.prototype.handleClickRadioButton = function (e) {\n  var $el = e.target || e.srcElement || e;\n  var $module = this.$module;\n  var $linkPanelButton = $el.closest('.idsk-search-results__link-panel');\n  var $buttonCaption = $linkPanelButton.querySelector('.idsk-search-results__link-panel--span');\n  var $choosenFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__topics');\n  var $radios = $el.closest('.govuk-radios');\n  var $filterContainer = $choosenFiltersContainer.querySelector('[data-source=\"' + $radios.dataset.id + '\"]');\n  var $class = 'idsk-search-results__picked-topic';\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n\n  // creating or renaming new span element for picked topic\n  if ($el.value && !$filterContainer) {\n    var $topicPicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $radios.dataset.id, $class, $el, false);\n    if ($module.subTopicButton) {\n      $module.subTopicButton.disabled = false;\n    }\n  } else if ($filterContainer.dataset.source == $radios.dataset.id) {\n    $topicPicked = $filterContainer;\n    $topicPicked.innerHTML = $el.value + ' &#10005;';\n  } else if ($filterContainer.dataset.source != $radios.dataset.id) {\n    var $topicPicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $radios.dataset.id, $class, $el, false);\n  }\n  $contentContainer.classList.remove('idsk-search-results--invisible__mobile');\n  $choosenFiltersContainer.classList.remove('idsk-search-results--invisible');\n  $topicPicked.removeEventListener('click', this.handleRemovePickedTopic.bind(this), true);\n  $topicPicked.addEventListener('click', this.handleRemovePickedTopic.bind(this));\n  this.changeBackgroundForPickedFilters.call(this);\n  $buttonCaption.innerText = '1 ' + $buttonCaption.dataset.lines;\n};\nSearchResults.prototype.handleClickContentTypeCheckBox = function (e) {\n  var $el = e.target || e.srcElement || e;\n  var $module = this.$module;\n  var $linkPanelButton = $el.closest('.idsk-search-results__link-panel');\n  var $choosenFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__content-type');\n  var $checkBoxes = $el.closest('.govuk-checkboxes');\n  var $class = 'idsk-search-results__picked-content-type';\n  var $contentContainer = $module.querySelector('.idsk-search-results__content');\n  if ($el.checked) {\n    var $contentTypePicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $el.id, $class, $el, false);\n    $contentTypePicked.addEventListener('click', this.handleRemovePickedContentType.bind(this));\n  } else {\n    var $itemToRemove = $module.querySelector('[data-source=\"' + $el.id + '\"]');\n    $itemToRemove.remove();\n  }\n  $contentContainer.classList.remove('idsk-search-results--invisible__mobile');\n  $choosenFiltersContainer.classList.remove('idsk-search-results--invisible');\n  this.handleCountOfPickedContentTypes.call(this, $checkBoxes, $linkPanelButton);\n  this.changeBackgroundForPickedFilters.call(this);\n};\nSearchResults.prototype.handleRemovePickedContentType = function (e) {\n  var $el = e.target || e.srcElement || e;\n  var $checkBoxes = this.$module.querySelector('.idsk-search-results__content-type-filter .govuk-checkboxes');\n  var $checkBoxToRemove = $checkBoxes.querySelector('#' + $el.dataset.source);\n  var $linkPanelButton = $checkBoxes.closest('.idsk-search-results__link-panel');\n  $checkBoxToRemove.checked = false;\n  $el.remove();\n  this.handleSomeFilterPicked.call(this);\n  this.handleCountOfPickedContentTypes.call(this, $checkBoxes, $linkPanelButton);\n  this.handleCountForFiltersButton.call(this);\n  this.changeBackgroundForPickedFilters.call(this);\n};\n\n/**\n * function for counting selected checkboxes in content type filter\n * @param {object} $checkBoxes\n * @param {object} $linkPanelButton\n */\nSearchResults.prototype.handleCountOfPickedContentTypes = function ($checkBoxes, $linkPanelButton) {\n  var $choosenFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__content-type');\n  var $buttonCaption = $linkPanelButton.querySelector('.idsk-search-results__link-panel--span');\n  var $counter = 0;\n  if ($checkBoxes) {\n    $checkBoxes.querySelectorAll('.govuk-checkboxes__input').forEach(function ($checkBox) {\n      if ($checkBox.checked) {\n        $counter = $counter + 1;\n      }\n    }.bind(this));\n  }\n  if ($counter == 0) {\n    $buttonCaption.innerText = '';\n    $choosenFiltersContainer.classList.add('idsk-search-results--invisible');\n  } else {\n    $buttonCaption.innerText = $counter + ' ' + $buttonCaption.dataset.lines;\n  }\n};\n\n/**\n * function for creating element in container, in case of date we need param $insertBeforeFirst to check whether it should be on first position or not\n * @param {object} $choosenFiltersContainer\n * @param {object} $input\n * @param {object} $el\n * @param {boolean} $insertBeforeFirst\n */\nSearchResults.prototype.createTopicInContainer = function ($choosenFiltersContainer, $input, $class, $el, $insertBeforeFirst) {\n  var $showResultsMobileButton = this.$module.querySelector('.idsk-search-results__show-results__button');\n  var $turnFiltersOffMobileButton = this.$module.querySelector('.idsk-search-results__button--turn-filters-off');\n  var $pickedFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters');\n  var $topicPicked = document.createElement('button');\n  $topicPicked.setAttribute('class', $class);\n  $topicPicked.setAttribute('tabindex', \"0\");\n  $topicPicked.setAttribute('data-source', $input);\n  $topicPicked.setAttribute('data-id', $el.id);\n  $topicPicked.innerHTML = $el.value + ' &#10005;';\n  if ($insertBeforeFirst) {\n    $choosenFiltersContainer.prepend($topicPicked);\n  } else {\n    $choosenFiltersContainer.appendChild($topicPicked);\n  }\n  $pickedFiltersContainer.classList.remove('idsk-search-results--invisible');\n  $pickedFiltersContainer.classList.remove('idsk-search-results--invisible__mobile');\n  $showResultsMobileButton.classList.remove('idsk-search-results--invisible');\n  $turnFiltersOffMobileButton.classList.remove('idsk-search-results--invisible');\n  this.handleCountForFiltersButton.call(this);\n  return $topicPicked;\n};\n\n/**\n * function for setting grey background for odd elements in picked topics container\n *\n */\nSearchResults.prototype.changeBackgroundForPickedFilters = function (e) {\n  var $module = this.$module;\n  var $pickedFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters');\n  var $notEmptySections = $pickedFiltersContainer.querySelectorAll('div:not(.idsk-search-results--invisible)');\n  if ($notEmptySections.length == 0) {\n    return;\n  }\n  $notEmptySections.forEach(function ($section) {\n    $section.classList.remove('idsk-search-results--grey');\n    $section.classList.remove('idsk-search-results--border');\n  }.bind(this));\n  var $i;\n  for ($i = 0; $i < $notEmptySections.length; $i++) {\n    if ($i == 0 || $i == 2) {\n      $notEmptySections[$i].classList.add('idsk-search-results--grey');\n    }\n  }\n  $notEmptySections[$notEmptySections.length - 1].classList.add('idsk-search-results--border');\n};\n\n/**\n * function for disabling 'subtopic' filter, in case of removing topic filter\n *\n */\nSearchResults.prototype.disableSubtopic = function (e) {\n  var $contentPanel = this.$module.subTopicButton.parentElement.querySelector('.idsk-search-results__list');\n  this.$module.subTopicButton.parentElement.classList.remove('idsk-search-results--expand');\n  $contentPanel.classList.add('idsk-search-results--hidden');\n  if (this.$module.subTopicButton) {\n    this.$module.subTopicButton.disabled = true;\n  }\n};\nSearchResults.prototype.handleRemovePickedTopic = function (e) {\n  var $el = e.target || e.srcElement || e;\n  var $choosenFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__topics');\n  if ($el.dataset.source == 'tema') {\n    var $subTopic = $choosenFiltersContainer.querySelector('[data-source=\"podtema\"]');\n    if ($subTopic) {\n      this.removeTopic.call(this, $subTopic, true);\n    } else {\n      if (this.$module.subTopicButton) {\n        this.disableSubtopic.call(this);\n      }\n    }\n    $choosenFiltersContainer.classList.add('idsk-search-results--invisible');\n  }\n  this.removeTopic.call(this, $el, false);\n};\nSearchResults.prototype.removeTopic = function ($el, $disableFilter) {\n  var $radios = this.$module.querySelector('[data-id=\"' + $el.dataset.source + '\"]');\n  var $buttonCaption = $radios.closest('.idsk-search-results__link-panel');\n  $buttonCaption.querySelector('.idsk-search-results__link-panel--span').innerText = '';\n  $radios.querySelectorAll('.govuk-radios__input').forEach(function ($radio) {\n    $radio.checked = false;\n  }.bind(this));\n  if ($disableFilter && this.$module.subTopicButton) {\n    this.disableSubtopic.call(this);\n  }\n  $el.remove();\n  this.handleSomeFilterPicked.call(this);\n  this.handleCountForFiltersButton.call(this);\n  this.changeBackgroundForPickedFilters.call(this);\n};\nexport default SearchResults;","map":{"version":3,"names":["toggleClass","SearchResults","$module","prototype","init","resultCards","Array","countOfCardsPerPage","Number","currentPageNumber","subTopicButton","querySelector","disabled","$links","querySelectorAll","$resultsPerPageDropdown","$backButton","$forwardButton","$backButtonMobile","$forwardButtonMobile","$linkPanelButtons","$filtersButtonMobile","$turnFiltersOffButtonMobile","$showResultsButtonMobile","$backToResultsButtonMobile","$radioButtonsInput","$contentTypeCheckBoxes","$dateFrom","$dateTo","$topicSearchInput","addEventListener","handleSearchItemsFromInput","bind","$subtopicSearchInput","$contentTypeSearchInput","handleFillDate","value","call","handleClickPreviousPage","handleClickNextPage","handleClickFiltersButton","handleClickTurnFiltersOffButton","handleClickShowResultsButton","boundHandleClickLinkPanel","handleClickLinkPanel","showResultCardsPerPage","handleClickResultsPerPageDropdown","innerText","title","forEach","$button","$input","handleClickRadioButton","checked","$checkBox","handleClickContentTypeCheckBox","e","$filterBar","$searchBar","$searchBarTitle","$orderByDropdown","$resultsPerPage","$orderByDropdownMobile","$pagingMobile","$pagingDesktop","$searchResultsAll","$filterHeaderPanel","$pickedFiltersPanel","$showResultsButton","$contentContainer","$title","$header","document","getElementsByTagName","$footer","$breadcrumbs","getElementsByClassName","classList","remove","add","handleSomeFilterPicked","$pickedTopics","$pickedContentTypes","$pickedDates","$isFilterPicked","length","handleCountForFiltersButton","$countOfPickedFilters","$topic","handleRemovePickedTopic","$contentType","handleRemovePickedContentType","$date","handleRemovePickedDate","location","href","$el","target","srcElement","$type","$linkPanelButton","closest","$items","$item","$labelItem","toLowerCase","includes","$period","$choosenDatesInFiltersContainer","$class","$dateElementInContainer","id","match","$contentTypePicked","createTopicInContainer","innerHTML","checkValuesInDateContainer","changeBackgroundForPickedFilters","createSpanElement","$text","$spanElement","createElement","setAttribute","$beforeDateClass","$afterDateClass","$beforeDateSpan","$afterDateSpan","dataset","lines","middle","insertBefore","after","before","$startIndex","$endIndex","$pageNumber","$pageNumberMobile","$i","$card","contains","$numberOfPages","$pageNumberSpan","$pageNumberText","replace","$contentPanel","$buttonCaption","$choosenFiltersContainer","$radios","$filterContainer","$topicPicked","source","removeEventListener","$checkBoxes","$itemToRemove","handleCountOfPickedContentTypes","$checkBoxToRemove","$counter","$insertBeforeFirst","$showResultsMobileButton","$turnFiltersOffMobileButton","$pickedFiltersContainer","prepend","appendChild","$notEmptySections","$section","disableSubtopic","parentElement","$subTopic","removeTopic","$disableFilter","$radio"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/search-results/search-results.js"],"sourcesContent":["import '../../../govuk/vendor/polyfills/Function/prototype/bind'\nimport '../../../govuk/vendor/polyfills/Event' // addEventListener and event.target normalization\nimport { toggleClass } from \"../../common\";\n\nfunction SearchResults($module) {\n    this.$module = $module\n}\n\nSearchResults.prototype.init = function () {\n    // Check for module\n    if (!this.$module) {\n        return\n    }\n    var $module = this.$module\n    $module.resultCards = new Array();\n    $module.countOfCardsPerPage = new Number();\n    $module.currentPageNumber = new Number();\n    $module.subTopicButton = $module.querySelector('.idsk-search-results__subtopic')\n\n    if ($module.subTopicButton) {\n        $module.subTopicButton.disabled = true\n    }\n\n    // Check for button\n    var $links = $module.querySelectorAll('.idsk-search-results__link')\n    if (!$links) {\n        return\n    }\n\n    var $resultsPerPageDropdown = $module.querySelector('.idsk-search-results__content .govuk-select')\n    if (!$resultsPerPageDropdown) {\n        return\n    }\n\n    var $backButton = $module.querySelector('.idsk-search-results__button--back')\n    if (!$backButton) {\n        return\n    }\n\n    var $forwardButton = $module.querySelector('.idsk-search-results__button--forward')\n    if (!$forwardButton) {\n        return\n    }\n\n    var $backButtonMobile = $module.querySelector('.idsk-search-results__button--back__mobile')\n    if (!$backButton) {\n        return\n    }\n\n    var $forwardButtonMobile = $module.querySelector('.idsk-search-results__button--forward__mobile')\n    if (!$forwardButton) {\n        return\n    }\n\n    $module.resultCards = $module.querySelectorAll('.idsk-search-results__card')\n    if (!$module.resultCards) {\n        return\n    }\n\n    var $linkPanelButtons = $module.querySelectorAll('.idsk-search-results__link-panel-button')\n    if (!$linkPanelButtons) {\n        return\n    }\n\n    var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button')\n    if (!$filtersButtonMobile) {\n        return\n    }\n\n    var $turnFiltersOffButtonMobile = $module.querySelector('.idsk-search-results__button--turn-filters-off')\n    if (!$turnFiltersOffButtonMobile) {\n        return\n    }\n\n    var $showResultsButtonMobile = $module.querySelector('.idsk-search-results__button-show-results')\n    if (!$showResultsButtonMobile) {\n        return\n    }\n\n    var $backToResultsButtonMobile = $module.querySelector('.idsk-search-results__button--back-to-results')\n    if (!$backToResultsButtonMobile) {\n        return\n    }\n\n    var $radioButtonsInput = $module.querySelectorAll('.idsk-search-results__filter .govuk-radios__input ')\n    if (!$radioButtonsInput) {\n        return\n    }\n\n    var $contentTypeCheckBoxes = $module.querySelectorAll('.idsk-search-results__filter .govuk-checkboxes__input ')\n    if (!$contentTypeCheckBoxes) {\n        return\n    }\n\n    var $dateFrom = $module.querySelector('#datum-od')\n    var $dateTo = $module.querySelector('#datum-do')\n\n\n    var $topicSearchInput = $module.querySelector('#idsk-search-input__topic')\n    if ($topicSearchInput) {\n        $topicSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'radios'))\n    }\n\n    var $subtopicSearchInput = $module.querySelector('#idsk-search-input__subtopic')\n    if ($subtopicSearchInput) {\n        $subtopicSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'radios'))\n    }\n\n    var $contentTypeSearchInput = $module.querySelector('#idsk-search-input__content-type')\n    if ($contentTypeSearchInput) {\n        $contentTypeSearchInput.addEventListener('keyup', this.handleSearchItemsFromInput.bind(this, 'checkboxes'))\n    }\n\n    if ($dateFrom) {\n        $dateFrom.addEventListener('focusout', this.handleFillDate.bind(this, 'from'))\n        if ($dateFrom.value != '') {\n            this.handleFillDate.call(this, 'from', $dateFrom)\n        }\n        $dateTo.addEventListener('focusout', this.handleFillDate.bind(this, 'to'))\n        if ($dateTo.value != '') {\n            this.handleFillDate.call(this, 'to', $dateTo)\n        }\n    }\n\n    $backButton.addEventListener('click', this.handleClickPreviousPage.bind(this))\n    $forwardButton.addEventListener('click', this.handleClickNextPage.bind(this))\n    $backButtonMobile.addEventListener('click', this.handleClickPreviousPage.bind(this))\n    $forwardButtonMobile.addEventListener('click', this.handleClickNextPage.bind(this))\n    $filtersButtonMobile.addEventListener('click', this.handleClickFiltersButton.bind(this))\n    $turnFiltersOffButtonMobile.addEventListener('click', this.handleClickTurnFiltersOffButton.bind(this))\n    $showResultsButtonMobile.addEventListener('click', this.handleClickShowResultsButton.bind(this))\n    $backToResultsButtonMobile.addEventListener('click', this.handleClickShowResultsButton.bind(this))\n    $module.boundHandleClickLinkPanel = this.handleClickLinkPanel.bind(this)\n\n    // set selected value in dropdown\n    $module.countOfCardsPerPage = $resultsPerPageDropdown.value\n    $module.currentPageNumber = 1\n    this.showResultCardsPerPage.call(this, 0, $resultsPerPageDropdown.value)\n    $resultsPerPageDropdown.addEventListener('change', this.handleClickResultsPerPageDropdown.bind(this))\n    $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(0)'\n\n    $linkPanelButtons.forEach(function ($button) {\n        $button.addEventListener('click', $module.boundHandleClickLinkPanel, true)\n    }.bind(this))\n\n    $radioButtonsInput.forEach(function ($input) {\n        $input.addEventListener('click', this.handleClickRadioButton.bind(this), true)\n        if ($input.checked) {\n            this.handleClickRadioButton.call(this, $input)\n        }\n    }.bind(this))\n\n    $contentTypeCheckBoxes.forEach(function ($checkBox) {\n        $checkBox.addEventListener('click', this.handleClickContentTypeCheckBox.bind(this), true)\n        if ($checkBox.checked) {\n            this.handleClickContentTypeCheckBox.call(this, $checkBox)\n        }\n    }.bind(this))\n\n    this.handleClickFiltersButton.call(this)\n    this.handleClickShowResultsButton.call(this)\n}\n\n/**\n * function for handling show results button and 'back to results' button in mobile view\n * hiding and showing elements - mobile version only\n *\n */\nSearchResults.prototype.handleClickShowResultsButton = function (e) {\n    var $module = this.$module\n    var $filterBar = $module.querySelector('.idsk-search-results__filter')\n    var $searchBar = $module.querySelector('.idsk-search-results .idsk-search-results__search-bar')\n    var $searchBarTitle = $module.querySelector('.idsk-search-results .idsk-intro-block__search__span')\n    var $orderByDropdown = $module.querySelector('.idsk-search-results--order__dropdown')\n    var $resultsPerPage = $module.querySelector('.idsk-search-results__filter-panel--mobile')\n    var $orderByDropdownMobile = $module.querySelector('.idsk-search-results--order')\n    var $pagingMobile = $module.querySelector('.idsk-search-results__page-number--mobile')\n    var $pagingDesktop = $module.querySelector('.idsk-search-results__content__page-changer')\n    var $searchResultsAll = $module.querySelector('.idsk-search-results__content__all')\n    var $filterHeaderPanel = $module.querySelector('.idsk-search-results__filter-header-panel')\n    var $pickedFiltersPanel = $module.querySelector('.idsk-search-results__content__picked-filters')\n    var $showResultsButton = $module.querySelector('.idsk-search-results__show-results__button')\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n    var $title = $module.querySelector('.idsk-search-results__title')\n    var $header = document.getElementsByTagName('header');\n    var $footer = document.getElementsByTagName('footer');\n    var $breadcrumbs = document.getElementsByClassName('govuk-breadcrumbs');\n\n    $title.classList.remove('idsk-search-results--invisible__mobile')\n    $contentContainer.classList.remove('idsk-search-results--invisible__mobile')\n    $showResultsButton.classList.add('idsk-search-results--invisible')\n    $pickedFiltersPanel.classList.add('idsk-search-results--invisible__mobile')\n    $filterBar.classList.remove('idsk-search-results--visible')\n    $filterHeaderPanel.classList.remove('idsk-search-results--visible__mobile--inline')\n    $searchResultsAll.classList.remove('idsk-search-results--invisible__mobile')\n    $pagingMobile.classList.remove('idsk-search-results--invisible')\n    $pagingDesktop.classList.remove('idsk-search-results--invisible__mobile')\n    $searchBar.classList.remove('idsk-search-results--invisible__mobile')\n    if ($searchBarTitle) {\n        $searchBarTitle.classList.remove('idsk-search-results--invisible__mobile')\n    }\n    $orderByDropdown.classList.remove('idsk-search-results--invisible__mobile')\n    $resultsPerPage.classList.remove('idsk-search-results--invisible__mobile')\n    $orderByDropdownMobile.classList.remove('idsk-search-results--invisible')\n    if ($header[0] && $footer[0] && $breadcrumbs[0]) {\n        $header[0].classList.remove('idsk-search-results--invisible__mobile')\n        $footer[0].classList.remove('idsk-search-results--invisible__mobile')\n        $breadcrumbs[0].classList.remove('idsk-search-results--invisible__mobile')\n    }\n}\n\n/**\n * function for handling whether is some filter picked, because of hiding and showing elements in container with picked items\n * returns boolean\n *\n */\nSearchResults.prototype.handleSomeFilterPicked = function (e) {\n    var $module = this.$module\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n    var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic')\n    var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type')\n    var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date')\n    var $isFilterPicked = $pickedTopics.length > 0 || $pickedContentTypes.length > 0 || $pickedDates.length > 0\n\n    if ($isFilterPicked) {\n        $contentContainer.classList.remove('idsk-search-results--invisible__mobile')\n    } else {\n        $contentContainer.classList.add('idsk-search-results--invisible__mobile')\n    }\n\n    return $isFilterPicked\n}\n\n/**\n * function for counting selected filters, for mobile button 'Filters' purposes\n *\n */\nSearchResults.prototype.handleCountForFiltersButton = function (e) {\n    var $module = this.$module\n    var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic')\n    var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type')\n    var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date')\n    var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button')\n    var $countOfPickedFilters = $pickedTopics.length + $pickedContentTypes.length + $pickedDates.length\n\n    $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(' + $countOfPickedFilters + ')'\n}\n\n/**\n * function for disabling all picked filters\n *\n */\nSearchResults.prototype.handleClickTurnFiltersOffButton = function (e) {\n    var $module = this.$module\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n    var $pickedTopics = $module.querySelectorAll('.idsk-search-results__picked-topic')\n    var $pickedContentTypes = $module.querySelectorAll('.idsk-search-results__picked-content-type')\n    var $pickedDates = $module.querySelectorAll('.idsk-search-results__picked-date')\n    var $filtersButtonMobile = $module.querySelector('.idsk-search-results__filters__button')\n\n    $contentContainer.classList.add('idsk-search-results--invisible__mobile')\n    $filtersButtonMobile.innerText = $filtersButtonMobile.title + '(0)'\n\n    $pickedTopics.forEach(function ($topic) {\n        this.handleRemovePickedTopic.call(this, $topic);\n    }.bind(this))\n\n    $pickedContentTypes.forEach(function ($contentType) {\n        this.handleRemovePickedContentType.call(this, $contentType);\n    }.bind(this))\n\n    $pickedDates.forEach(function ($date) {\n        this.handleRemovePickedDate.call(this, $date);\n    }.bind(this))\n}\n\n/**\n * function for changing view for mobile after click on \"Filters\" button\n *\n */\nSearchResults.prototype.handleClickFiltersButton = function (e) {\n    var $module = this.$module\n    var $filterBar = $module.querySelector('.idsk-search-results__filter')\n    var $searchBar = $module.querySelector('.idsk-search-results .idsk-search-results__search-bar')\n    var $searchBarTitle = $module.querySelector('.idsk-search-results .idsk-intro-block__search__span')\n    var $orderByDropdown = $module.querySelector('.idsk-search-results--order__dropdown')\n    var $resultsPerPage = $module.querySelector('.idsk-search-results__filter-panel--mobile')\n    var $orderByDropdownMobile = $module.querySelector('.idsk-search-results--order')\n    var $pagingMobile = $module.querySelector('.idsk-search-results__page-number--mobile')\n    var $pagingDesktop = $module.querySelector('.idsk-search-results__content__page-changer')\n    var $searchResultsAll = $module.querySelector('.idsk-search-results__content__all')\n    var $filterHeaderPanel = $module.querySelector('.idsk-search-results__filter-header-panel')\n    var $pickedFiltersPanel = $module.querySelector('.idsk-search-results__content__picked-filters')\n    var $showResultsButton = $module.querySelector('.idsk-search-results__show-results__button')\n    var $title = $module.querySelector('.idsk-search-results__title')\n    var $header = document.getElementsByTagName('header');\n    var $footer = document.getElementsByTagName('footer');\n    var $breadcrumbs = document.getElementsByClassName('govuk-breadcrumbs');\n\n    if (this.handleSomeFilterPicked.call(this)) {\n        $showResultsButton.classList.remove('idsk-search-results--invisible')\n        $pickedFiltersPanel.classList.remove('idsk-search-results--invisible__mobile')\n    }\n\n    $title.classList.add('idsk-search-results--invisible__mobile')\n    $filterBar.classList.add('idsk-search-results--visible')\n    $filterHeaderPanel.classList.add('idsk-search-results--visible__mobile--inline')\n    $searchResultsAll.classList.add('idsk-search-results--invisible__mobile')\n    $pagingMobile.classList.add('idsk-search-results--invisible')\n    $pagingDesktop.classList.add('idsk-search-results--invisible__mobile')\n    $searchBar.classList.add('idsk-search-results--invisible__mobile')\n    if ($searchBarTitle) {\n        $searchBarTitle.classList.add('idsk-search-results--invisible__mobile')\n    }\n    $orderByDropdown.classList.add('idsk-search-results--invisible__mobile')\n    $resultsPerPage.classList.add('idsk-search-results--invisible__mobile')\n\n    if ($header[0] && $footer[0] && $breadcrumbs[0]) {\n        $header[0].classList.add('idsk-search-results--invisible__mobile')\n        $footer[0].classList.add('idsk-search-results--invisible__mobile')\n        $breadcrumbs[0].classList.add('idsk-search-results--invisible__mobile')\n    }\n    $orderByDropdownMobile.classList.add('idsk-search-results--invisible')\n}\n\nSearchResults.prototype.handleClickPreviousPage = function (e) {\n    var $module = this.$module\n\n    location.href = \"#\";\n    $module.currentPageNumber = $module.currentPageNumber - 1\n    this.showResultCardsPerPage.call(this, $module.countOfCardsPerPage * ($module.currentPageNumber - 1), $module.countOfCardsPerPage * $module.currentPageNumber);\n}\n\nSearchResults.prototype.handleClickNextPage = function (e) {\n    var $module = this.$module\n\n    location.href = \"#\";\n    $module.currentPageNumber = $module.currentPageNumber + 1\n    this.showResultCardsPerPage.call(this, $module.countOfCardsPerPage * ($module.currentPageNumber - 1), $module.countOfCardsPerPage * $module.currentPageNumber);\n}\n\nSearchResults.prototype.handleClickResultsPerPageDropdown = function (e) {\n    var $el = e.target || e.srcElement\n    var $module = this.$module\n\n    $module.countOfCardsPerPage = $el.value\n    this.showResultCardsPerPage.call(this, 0, $el.value);\n}\n\nSearchResults.prototype.handleSearchItemsFromInput = function ($type, e) {\n    var $el = e.target || e.srcElement\n    var $linkPanelButton = $el.closest('.idsk-search-results__link-panel')\n\n    var $items = $linkPanelButton.querySelectorAll('.govuk-' + $type + '__item')\n    $items.forEach(function ($item) {\n        $item.classList.remove('idsk-search-results--invisible')\n    }.bind(this))\n    $items.forEach(function ($item) {\n        var $labelItem = $item.querySelector('.govuk-' + $type + '__label')\n\n        if (!$labelItem.innerText.toLowerCase().includes($el.value.toLowerCase())) {\n            $item.classList.add('idsk-search-results--invisible')\n        }\n    }.bind(this))\n}\n\nSearchResults.prototype.handleFillDate = function ($period, e) {\n    var $el = e.target || e.srcElement || e\n    var $module = this.$module\n    var $choosenDatesInFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__date')\n    var $class = 'idsk-search-results__picked-date'\n    var $dateElementInContainer = $choosenDatesInFiltersContainer.querySelector('[data-source=\"' + $el.id + '\"]')\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n\n    if ($el.value == '' || !($el.value.match(/^(\\d{1,2})\\.(\\d{1,2})\\.(\\d{4})$/) || $el.value.match(/^(\\d{4})$/))) {\n        return;\n    }\n\n    if ($el.value && !$dateElementInContainer) {\n        var $contentTypePicked = this.createTopicInContainer.call(this, $choosenDatesInFiltersContainer, $el.id, $class, $el, $el.id == 'datum-od' ? true : false);\n    } else if ($dateElementInContainer) {\n        $contentTypePicked = $dateElementInContainer\n        $contentTypePicked.innerHTML = $el.value + ' &#10005;';\n    }\n\n    $contentContainer.classList.remove('idsk-search-results--invisible__mobile')\n    $contentTypePicked.addEventListener('click', this.handleRemovePickedDate.bind(this));\n    $el.value = ''\n    $choosenDatesInFiltersContainer.classList.remove('idsk-search-results--invisible')\n    this.checkValuesInDateContainer.call(this);\n    this.changeBackgroundForPickedFilters.call(this)\n}\n\nSearchResults.prototype.handleRemovePickedDate = function (e) {\n    var $el = e.target || e.srcElement || e\n\n    $el.remove();\n    this.handleSomeFilterPicked.call(this)\n    this.checkValuesInDateContainer.call(this);\n    this.handleCountForFiltersButton.call(this)\n    this.changeBackgroundForPickedFilters.call(this)\n}\n\nSearchResults.prototype.createSpanElement = function ($class, $text) {\n    var $spanElement = document.createElement('span')\n    $spanElement.setAttribute('class', $class)\n    $spanElement.innerHTML = $text;\n\n    return $spanElement\n}\n\n/**\n * function for checking whether is there any date items selected in container\n *\n */\nSearchResults.prototype.checkValuesInDateContainer = function (e) {\n    var $choosenDatesInFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__date')\n    var $beforeDateClass = 'idsk-search-results__before-date'\n    var $afterDateClass = 'idsk-search-results__after-date'\n    var $beforeDateSpan = $choosenDatesInFiltersContainer.querySelector('.' + $beforeDateClass)\n    var $afterDateSpan = $choosenDatesInFiltersContainer.querySelector('.' + $afterDateClass)\n\n\n    $beforeDateSpan ? $beforeDateSpan.remove() : false\n    $afterDateSpan ? $afterDateSpan.remove() : false\n\n    if (!$choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]') && !$choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n        $choosenDatesInFiltersContainer.classList.add('idsk-search-results--invisible')\n        return\n    }\n\n    if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]') && $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n        var $beforeDateSpan = this.createSpanElement.call(this, $beforeDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.middle);\n        var $afterDateSpan = this.createSpanElement.call(this, $afterDateClass, 'a ');\n\n        $choosenDatesInFiltersContainer.insertBefore($beforeDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]'));\n        $choosenDatesInFiltersContainer.insertBefore($afterDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]'));\n    } else if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]')) {\n        var $beforeDateSpan = this.createSpanElement.call(this, $beforeDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.after);\n        $choosenDatesInFiltersContainer.insertBefore($beforeDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-od\"]'));\n\n    } else if ($choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]')) {\n        var $afterDateSpan = this.createSpanElement.call(this, $afterDateClass, $choosenDatesInFiltersContainer.dataset.lines + ' ' + $choosenDatesInFiltersContainer.dataset.before);\n        $choosenDatesInFiltersContainer.insertBefore($afterDateSpan, $choosenDatesInFiltersContainer.querySelector('[data-source=\"datum-do\"]'));\n    }\n}\n\n/**\n * function for changing number of cards on page\n *\n */\nSearchResults.prototype.showResultCardsPerPage = function ($startIndex, $endIndex) {\n    var $module = this.$module\n    var $backButton = $module.querySelector('.idsk-search-results__button--back')\n    var $forwardButton = $module.querySelector('.idsk-search-results__button--forward')\n    var $pageNumber = $module.querySelector('.idsk-search-results__page-number')\n    var $backButtonMobile = $module.querySelector('.idsk-search-results__button--back__mobile')\n    var $forwardButtonMobile = $module.querySelector('.idsk-search-results__button--forward__mobile')\n    var $pageNumberMobile = $module.querySelector('.idsk-search-results__page-number__mobile')\n    var $i;\n\n    //hide all cards\n    $module.resultCards.forEach(function ($card) {\n        if (!$card.classList.contains('idsk-search-results--invisible')) {\n            $card.classList.add('idsk-search-results--invisible')\n        }\n    }.bind(this))\n\n    if ($endIndex >= $module.resultCards.length) {\n        $endIndex = $module.resultCards.length\n        $forwardButton.classList.add('idsk-search-results--hidden')\n        $backButton.classList.remove('idsk-search-results--hidden')\n        $forwardButtonMobile.classList.add('idsk-search-results--hidden')\n        $backButtonMobile.classList.remove('idsk-search-results--hidden')\n    } else {\n        $forwardButton.classList.remove('idsk-search-results--hidden')\n        $forwardButtonMobile.classList.remove('idsk-search-results--hidden')\n    }\n\n    if ($startIndex < 0) {\n        $startIndex = 0\n    } else if ($startIndex > 0) {\n        $backButton.classList.remove('idsk-search-results--hidden')\n        $backButtonMobile.classList.remove('idsk-search-results--hidden')\n    } else if ($startIndex == 0) {\n        $module.currentPageNumber = 1\n    }\n\n    for ($i = $startIndex; $i < $endIndex; $i++) {\n        $module.resultCards[$i].classList.remove('idsk-search-results--invisible')\n    }\n\n    // hide back button if 1st page is showed\n    if ($startIndex == 0 && !$backButton.classList.contains('idsk-search-results--hidden')) {\n        $backButton.classList.add('idsk-search-results--hidden')\n        $backButtonMobile.classList.add('idsk-search-results--hidden')\n    }\n\n    var $numberOfPages = (($module.resultCards.length / $module.countOfCardsPerPage) | 0) + 1\n    var $pageNumberSpan = $module.querySelector('.idsk-search-results__page-number span')\n    var $pageNumberText = $pageNumberSpan.dataset.lines.replace(\"$value1\", $module.currentPageNumber).replace(\"$value2\", $numberOfPages)\n    $pageNumberSpan.innerText = $pageNumberText\n    $pageNumberMobile.innerText = $pageNumberText\n}\n\n/**\n * An event handler for click event on $linkPanel - collapse or expand filter\n * @param {object} e\n */\nSearchResults.prototype.handleClickLinkPanel = function (e) {\n    var $el = e.target || e.srcElement\n    var $linkPanelButton = $el.closest('.idsk-search-results__link-panel')\n    var $contentPanel = $linkPanelButton.querySelector('.idsk-search-results__list')\n\n    toggleClass($contentPanel, 'idsk-search-results--hidden')\n    toggleClass($linkPanelButton, 'idsk-search-results--expand')\n}\n\n/**\n * An event handler for click event on radio button\n * @param {object} e\n */\nSearchResults.prototype.handleClickRadioButton = function (e) {\n    var $el = e.target || e.srcElement || e\n    var $module = this.$module\n    var $linkPanelButton = $el.closest('.idsk-search-results__link-panel')\n    var $buttonCaption = $linkPanelButton.querySelector('.idsk-search-results__link-panel--span')\n    var $choosenFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__topics')\n    var $radios = $el.closest('.govuk-radios')\n    var $filterContainer = $choosenFiltersContainer.querySelector('[data-source=\"' + $radios.dataset.id + '\"]')\n    var $class = 'idsk-search-results__picked-topic'\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n\n    // creating or renaming new span element for picked topic\n    if ($el.value && !$filterContainer) {\n        var $topicPicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $radios.dataset.id, $class, $el, false);\n        if ($module.subTopicButton) {\n            $module.subTopicButton.disabled = false;\n        }\n    } else if ($filterContainer.dataset.source == $radios.dataset.id) {\n        $topicPicked = $filterContainer\n        $topicPicked.innerHTML = $el.value + ' &#10005;';\n    } else if ($filterContainer.dataset.source != $radios.dataset.id) {\n        var $topicPicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $radios.dataset.id, $class, $el, false);\n    }\n\n    $contentContainer.classList.remove('idsk-search-results--invisible__mobile')\n    $choosenFiltersContainer.classList.remove('idsk-search-results--invisible')\n    $topicPicked.removeEventListener('click', this.handleRemovePickedTopic.bind(this), true);\n    $topicPicked.addEventListener('click', this.handleRemovePickedTopic.bind(this));\n    this.changeBackgroundForPickedFilters.call(this)\n    $buttonCaption.innerText = '1 ' + $buttonCaption.dataset.lines\n}\n\nSearchResults.prototype.handleClickContentTypeCheckBox = function (e) {\n    var $el = e.target || e.srcElement || e\n    var $module = this.$module\n    var $linkPanelButton = $el.closest('.idsk-search-results__link-panel')\n    var $choosenFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters__content-type')\n    var $checkBoxes = $el.closest('.govuk-checkboxes')\n    var $class = 'idsk-search-results__picked-content-type'\n    var $contentContainer = $module.querySelector('.idsk-search-results__content')\n\n    if ($el.checked) {\n        var $contentTypePicked = this.createTopicInContainer.call(this, $choosenFiltersContainer, $el.id, $class, $el, false);\n        $contentTypePicked.addEventListener('click', this.handleRemovePickedContentType.bind(this));\n    } else {\n        var $itemToRemove = $module.querySelector('[data-source=\"' + $el.id + '\"]')\n        $itemToRemove.remove()\n    }\n\n    $contentContainer.classList.remove('idsk-search-results--invisible__mobile')\n    $choosenFiltersContainer.classList.remove('idsk-search-results--invisible')\n    this.handleCountOfPickedContentTypes.call(this, $checkBoxes, $linkPanelButton);\n    this.changeBackgroundForPickedFilters.call(this)\n}\n\nSearchResults.prototype.handleRemovePickedContentType = function (e) {\n    var $el = e.target || e.srcElement || e\n    var $checkBoxes = this.$module.querySelector('.idsk-search-results__content-type-filter .govuk-checkboxes')\n    var $checkBoxToRemove = $checkBoxes.querySelector('#' + $el.dataset.source)\n    var $linkPanelButton = $checkBoxes.closest('.idsk-search-results__link-panel')\n\n    $checkBoxToRemove.checked = false\n    $el.remove();\n    this.handleSomeFilterPicked.call(this)\n    this.handleCountOfPickedContentTypes.call(this, $checkBoxes, $linkPanelButton);\n    this.handleCountForFiltersButton.call(this)\n    this.changeBackgroundForPickedFilters.call(this)\n}\n\n/**\n * function for counting selected checkboxes in content type filter\n * @param {object} $checkBoxes\n * @param {object} $linkPanelButton\n */\nSearchResults.prototype.handleCountOfPickedContentTypes = function ($checkBoxes, $linkPanelButton) {\n    var $choosenFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__content-type')\n    var $buttonCaption = $linkPanelButton.querySelector('.idsk-search-results__link-panel--span')\n    var $counter = 0\n\n    if ($checkBoxes) {\n        $checkBoxes.querySelectorAll('.govuk-checkboxes__input').forEach(function ($checkBox) {\n            if ($checkBox.checked) {\n                $counter = $counter + 1\n            }\n        }.bind(this))\n    }\n    if ($counter == 0) {\n        $buttonCaption.innerText = ''\n        $choosenFiltersContainer.classList.add('idsk-search-results--invisible')\n    } else {\n        $buttonCaption.innerText = $counter + ' ' + $buttonCaption.dataset.lines\n    }\n}\n\n/**\n * function for creating element in container, in case of date we need param $insertBeforeFirst to check whether it should be on first position or not\n * @param {object} $choosenFiltersContainer\n * @param {object} $input\n * @param {object} $el\n * @param {boolean} $insertBeforeFirst\n */\nSearchResults.prototype.createTopicInContainer = function ($choosenFiltersContainer, $input, $class, $el, $insertBeforeFirst) {\n    var $showResultsMobileButton = this.$module.querySelector('.idsk-search-results__show-results__button')\n    var $turnFiltersOffMobileButton = this.$module.querySelector('.idsk-search-results__button--turn-filters-off')\n    var $pickedFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters')\n\n    var $topicPicked = document.createElement('button')\n    $topicPicked.setAttribute('class', $class)\n    $topicPicked.setAttribute('tabindex', \"0\")\n    $topicPicked.setAttribute('data-source', $input)\n    $topicPicked.setAttribute('data-id', $el.id)\n    $topicPicked.innerHTML = $el.value + ' &#10005;';\n    if ($insertBeforeFirst) {\n        $choosenFiltersContainer.prepend($topicPicked);\n    } else {\n        $choosenFiltersContainer.appendChild($topicPicked);\n    }\n\n    $pickedFiltersContainer.classList.remove('idsk-search-results--invisible')\n    $pickedFiltersContainer.classList.remove('idsk-search-results--invisible__mobile')\n    $showResultsMobileButton.classList.remove('idsk-search-results--invisible')\n    $turnFiltersOffMobileButton.classList.remove('idsk-search-results--invisible')\n    this.handleCountForFiltersButton.call(this)\n\n    return $topicPicked\n}\n\n/**\n * function for setting grey background for odd elements in picked topics container\n *\n */\nSearchResults.prototype.changeBackgroundForPickedFilters = function (e) {\n    var $module = this.$module\n    var $pickedFiltersContainer = $module.querySelector('.idsk-search-results__content__picked-filters')\n    var $notEmptySections = $pickedFiltersContainer.querySelectorAll('div:not(.idsk-search-results--invisible)')\n\n    if ($notEmptySections.length == 0) {\n        return\n    }\n\n    $notEmptySections.forEach(function ($section) {\n        $section.classList.remove('idsk-search-results--grey')\n        $section.classList.remove('idsk-search-results--border')\n    }.bind(this))\n\n    var $i;\n    for ($i = 0; $i < $notEmptySections.length; $i++) {\n        if ($i == 0 || $i == 2) {\n            $notEmptySections[$i].classList.add('idsk-search-results--grey')\n        }\n    }\n\n    $notEmptySections[$notEmptySections.length - 1].classList.add('idsk-search-results--border')\n}\n\n/**\n * function for disabling 'subtopic' filter, in case of removing topic filter\n *\n */\nSearchResults.prototype.disableSubtopic = function (e) {\n    var $contentPanel = this.$module.subTopicButton.parentElement.querySelector('.idsk-search-results__list')\n\n    this.$module.subTopicButton.parentElement.classList.remove('idsk-search-results--expand')\n    $contentPanel.classList.add('idsk-search-results--hidden')\n    if (this.$module.subTopicButton) {\n        this.$module.subTopicButton.disabled = true;\n    }\n}\n\nSearchResults.prototype.handleRemovePickedTopic = function (e) {\n    var $el = e.target || e.srcElement || e\n    var $choosenFiltersContainer = this.$module.querySelector('.idsk-search-results__content__picked-filters__topics')\n\n    if ($el.dataset.source == 'tema') {\n        var $subTopic = $choosenFiltersContainer.querySelector('[data-source=\"podtema\"]')\n        if ($subTopic) {\n            this.removeTopic.call(this, $subTopic, true);\n        } else {\n            if (this.$module.subTopicButton) {\n                this.disableSubtopic.call(this);\n            }\n        }\n        $choosenFiltersContainer.classList.add('idsk-search-results--invisible')\n    }\n\n    this.removeTopic.call(this, $el, false);\n}\n\nSearchResults.prototype.removeTopic = function ($el, $disableFilter) {\n    var $radios = this.$module.querySelector('[data-id=\"' + $el.dataset.source + '\"]')\n    var $buttonCaption = $radios.closest('.idsk-search-results__link-panel')\n\n    $buttonCaption.querySelector('.idsk-search-results__link-panel--span').innerText = ''\n    $radios.querySelectorAll('.govuk-radios__input').forEach(function ($radio) {\n        $radio.checked = false\n    }.bind(this))\n\n    if ($disableFilter && this.$module.subTopicButton) {\n        this.disableSubtopic.call(this)\n    }\n\n    $el.remove()\n    this.handleSomeFilterPicked.call(this)\n    this.handleCountForFiltersButton.call(this)\n    this.changeBackgroundForPickedFilters.call(this)\n}\n\nexport default SearchResults\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}