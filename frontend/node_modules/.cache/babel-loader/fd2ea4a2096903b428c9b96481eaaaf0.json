{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  \"class\": \"govuk-width-container\"\n};\nvar _hoisted_2 = {\n  \"class\": \"govuk-main-wrapper govuk-main-wrapper--auto-spacing\"\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  \"class\": \"govuk-heading-l\"\n}, \"Videá\", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  key: 1\n};\nvar _hoisted_5 = {\n  key: 0,\n  \"class\": \"govuk-grid-row\"\n};\nvar _hoisted_6 = {\n  \"class\": \"idsk-card idsk-card-simple\"\n};\nvar _hoisted_7 = [\"innerHTML\"];\nvar _hoisted_8 = {\n  \"class\": \"idsk-card-content idsk-card-content-simple\"\n};\nvar _hoisted_9 = {\n  \"class\": \"idsk-heading idsk-heading-simple\"\n};\nvar _hoisted_10 = [\"title\"];\nvar _hoisted_11 = {\n  key: 0,\n  \"class\": \"pagination\"\n};\nvar _hoisted_12 = [\"onClick\"];\nvar _hoisted_13 = {\n  \"class\": \"page-item next\"\n};\nvar _hoisted_14 = {\n  key: 2\n};\nvar _hoisted_15 = {\n  key: 0,\n  \"class\": \"govuk-heading-m\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_LoadingSpin = _resolveComponent(\"LoadingSpin\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, !$data.loaded ? (_openBlock(), _createBlock(_component_LoadingSpin, {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), $data.loaded && $data.articles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_4, [_createElementVNode(\"div\", null, [$data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.page == 1 ? $data.articles : $data.articles, function (article) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: article.id,\n      \"class\": \"govuk-grid-column-one-half\"\n    }, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", {\n      \"class\": \"video-container\",\n      innerHTML: article.attributes.iframe\n    }, null, 8 /* PROPS */, _hoisted_7), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"a\", {\n      href: \"#\",\n      \"class\": \"idsk-card-title govuk-link\",\n      title: article.attributes.name\n    }, _toDisplayString(article.attributes.name), 9 /* TEXT, PROPS */, _hoisted_10)])])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]), this.pages > 1 && $data.loaded ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_11, [_createElementVNode(\"li\", {\n    \"class\": _normalizeClass([\"page-item prev\", $data.page == 1 ? 'disabled ' : ''])\n  }, [_createElementVNode(\"a\", {\n    \"class\": \"page-link\",\n    href: \"#\",\n    onClick: _cache[0] || (_cache[0] = function ($event) {\n      $options.falseFunction;\n      $options.setPageFunction(-1);\n    })\n  }, \"«\")], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.pages, function (i) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: i,\n      \"class\": \"page-item\"\n    }, [_createElementVNode(\"a\", {\n      \"class\": _normalizeClass(i === $data.page ? 'activated' : 'page-link'),\n      href: \"#\",\n      onClick: function onClick($event) {\n        $options.falseFunction;\n        $options.setPage(i);\n      }\n    }, _toDisplayString(i), 11 /* TEXT, CLASS, PROPS */, _hoisted_12)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"li\", _hoisted_13, [_createElementVNode(\"a\", {\n    \"class\": _normalizeClass([\"page-link\", $data.page == $data.pages ? 'disabled ' : '']),\n    href: \"#\",\n    onClick: _cache[1] || (_cache[1] = function ($event) {\n      $options.falseFunction;\n      $options.setPageFunction(1);\n    })\n  }, \"»\", 2 /* CLASS */)])])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_14, [$data.loaded ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_15, \" V tejto kategórii zatiaľ nemáme žiadne články \")) : _createCommentVNode(\"v-if\", true)]))])])]);\n}","map":{"version":3,"mappings":";;;EAES,SAAM;AAAuB;;EAC3B,SAAM;AAAqD;8BAC9DA,oBAAsC;EAAlC,SAAM;AAAiB,GAAC,OAAK;;;;;;EAIV,SAAM;;;EAMhB,SAAM;AAA4B;;;EAMhC,SAAM;AAA4C;;EAChD,SAAM;AAAkC;;;;EAcnB,SAAM;;;;EAwBpC,SAAM;AAAgB;;;;;;EAeV,SAAM;;;;uBAzEhCC,oBA+EM,cA9EJD,oBA6EM,OA7ENE,UA6EM,GA5EJF,oBA2EM,OA3ENG,UA2EM,GA1EJC,UAAsC,GAClBC,YAAM,kBAA1BC,aAA0CC;IAAAC;EAAA,yCAC/BH,YAAM,IAAIA,cAAQ,CAACI,MAAM,sBAApCR,oBAkEM,oBAjEJD,oBA0BM,cAzBOK,YAAM,kBAAjBJ,oBAwBM,OAxBNS,UAwBM,sBAvBJT,oBAsBMU,6BArBcN,UAAI,QAAQA,cAAQ,GAAGA,cAAQ,YAA1CO,OAAO;yBADhBX,oBAsBM;MApBHO,GAAG,EAAEI,OAAO,CAACC,EAAE;MAChB,SAAM;QAENb,oBAgBM,OAhBNc,UAgBM,GAfJd,oBAGO;MAFL,SAAM,iBAAiB;MACtBe,SAAS,EAAEH,OAAO,CAACI,UAAU,CAACC;yCAGjCjB,oBASM,OATNkB,UASM,GARJlB,oBAOM,OAPNmB,UAOM,GANJnB,oBAKC;MAJCoB,IAAI,EAAC,GAAG;MACR,SAAM,4BAA4B;MACjCC,KAAK,EAAET,OAAO,CAACI,UAAU,CAACM;wBACvBV,OAAO,CAACI,UAAU,CAACM,IAAI;gFAS1BC,KAAK,QAAQlB,YAAM,kBAAlCJ,oBAoCK,MApCLuB,WAoCK,GAnCHxB,oBAUK;IAVD,SAAKyB,iBAAC,gBAAgB,EAASpB,UAAI;MACrCL,oBAQC;IAPC,SAAM,WAAW;IACjBoB,IAAI,EAAC,GAAG;IACPM,OAAK;MAAqBC,sBAAa;MAAoBA,wBAAe;;KAI1E,GAAC,uCAGN1B,oBAUKU,kCAVgBY,KAAK,YAAfK,CAAC;yBAAZ3B,oBAUK;MAVwBO,GAAG,EAAEoB,CAAC;MAAE,SAAM;QACzC5B,oBAQC;MAPE,SAAKyB,gBAAEG,CAAC,KAAKvB,UAAI;MAClBe,IAAI,EAAC,GAAG;MACPM,OAAK;QAAqBC,sBAAa;QAAoBA,gBAAO,CAACC,CAAC;;wBAIjEA,CAAC;kCAIT5B,oBAWK,MAXL6B,WAWK,GAVH7B,oBASC;IARC,SAAKyB,iBAAC,WAAW,EACTpB,UAAI,IAAIA,WAAK;IACrBe,IAAI,EAAC,GAAG;IACPM,OAAK;MAAqBC,sBAAa;MAAoBA,wBAAe;;KAI1E,GAAC,8EAKV1B,oBAIM,qBAHMI,YAAM,kBAAhBJ,oBAEK,MAFL6B,WAEK,EAFqC,iDAE1C","names":["_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","$data","_createBlock","_component_LoadingSpin","key","length","_hoisted_5","_Fragment","article","id","_hoisted_6","innerHTML","attributes","iframe","_hoisted_8","_hoisted_9","href","title","name","pages","_hoisted_11","_normalizeClass","onClick","$options","i","_hoisted_13","_hoisted_15"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/views/VideoView.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"govuk-width-container\">\n      <div class=\"govuk-main-wrapper govuk-main-wrapper--auto-spacing\">\n        <h1 class=\"govuk-heading-l\">Videá</h1>\n        <LoadingSpin v-if=\"!loaded\"></LoadingSpin>\n        <div v-if=\"loaded && articles.length > 0\">\n          <div>\n            <div v-if=\"loaded\" class=\"govuk-grid-row\">\n              <div\n                v-for=\"article in page == 1 ? articles : articles\"\n                :key=\"article.id\"\n                class=\"govuk-grid-column-one-half\"\n              >\n                <div class=\"idsk-card idsk-card-simple\">\n                  <div\n                    class=\"video-container\"\n                    :innerHTML=\"article.attributes.iframe\"\n                  ></div>\n\n                  <div class=\"idsk-card-content idsk-card-content-simple\">\n                    <div class=\"idsk-heading idsk-heading-simple\">\n                      <a\n                        href=\"#\"\n                        class=\"idsk-card-title govuk-link\"\n                        :title=\"article.attributes.name\"\n                        >{{ article.attributes.name }}</a\n                      >\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ul v-if=\"this.pages > 1 && loaded\" class=\"pagination\">\n            <li class=\"page-item prev\" :class=\"page == 1 ? 'disabled ' : ''\">\n              <a\n                class=\"page-link\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPageFunction(-1);\n                \"\n                >«</a\n              >\n            </li>\n            <li v-for=\"i in this.pages\" :key=\"i\" class=\"page-item\">\n              <a\n                :class=\"i === page ? 'activated' : 'page-link'\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPage(i);\n                \"\n                >{{ i }}</a\n              >\n            </li>\n\n            <li class=\"page-item next\">\n              <a\n                class=\"page-link\"\n                :class=\"page == pages ? 'disabled ' : ''\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPageFunction(1);\n                \"\n                >»</a\n              >\n            </li>\n          </ul>\n        </div>\n        <div v-else>\n          <h1 v-if=\"loaded\" class=\"govuk-heading-m\">\n            V tejto kategórii zatiaľ nemáme žiadne články\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LoadingSpin from \"@/components/Loader\";\nimport { useMeta } from \"vue-meta\";\n\nexport default {\n  name: \"GalleryView\",\n  setup() {\n    useMeta({\n      title: \"Videá\",\n      htmlAttrs: { lang: \"sk\", amp: true },\n      meta: [\n        { charset: \"utf-8\" },\n        {\n          name: \"description\",\n          content:\n            \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\",\n        },\n        {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\",\n        },\n      ],\n    });\n  },\n  components: {\n    LoadingSpin,\n  },\n  data() {\n    return {\n      articles: [],\n      loaded: false,\n      page: 1,\n      pages: 5,\n      itemcount: 6,\n      type: null,\n    };\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function (val, oldVal) {\n        this.loaded = false;\n\n        this.type = null;\n        this.getArticles();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      let day = date.toLocaleDateString(\"en-us\", { day: \"numeric\" });\n      let month = date.toLocaleDateString(\"en-us\", { month: \"numeric\" });\n      let year = date.toLocaleDateString(\"en-us\", { year: \"numeric\" });\n      return `${day}.${month}.${year}`;\n      // Then specify how you want your dates to be formatted\n    },\n    falseFunction(e) {\n      e.preventDefault();\n    },\n    setPage(page) {\n      this.page = page;\n      this.getArticles();\n    },\n    setPageFunction(number) {\n      if (number == -1) {\n        if (this.page > 1) {\n          this.page += number;\n          this.getArticles();\n        }\n      } else {\n        if (this.page < this.pages) {\n          this.page += number;\n          this.getArticles();\n        }\n      }\n    },\n    getArticles() {\n      this.articles = [];\n      this.loaded = false;\n\n      fetch(\n        process.env.VUE_APP_API_URL +\n          `/videos?sort[0]=datetime%3Adesc&pagination[start]=${\n            (this.page - 1) * 6\n          }&pagination[limit]=6`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          this.articles = data.data;\n          this.itemcount = data.meta.pagination.total;\n          console.log(data);\n          this.pages =\n            data.meta.total <= 6\n              ? 1\n              : Math.ceil(data.meta.pagination.total / 6);\n          // console.log(Math.ceil((data.meta.pagination.total - 10) / 9));\n          // console.log(data.data);\n          this.loaded = true;\n        })\n\n        .catch\n        // catch any errors\n        // that may arise\n        ();\n    },\n  },\n\n  mounted() {\n    this.getArticles();\n  },\n};\n</script>\n<style>\n.video-container {\n  position: relative !important;\n  width: 100% !important;\n  padding-bottom: 56.25% !important;\n  overflow: hidden !important;\n}\n.video-container iframe {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  border: 0 !important;\n}\n#embedplayer {\n  width: 100% !important;\n  height: 100% !important;\n}\nhtml > body > div > div > video {\n  width: 100% !important;\n  height: 100% !important;\n}\nhtml#facebook.svg .archive-grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  column-gap: 40px;\n}\n.idsk-card-meta .govuk-link:visited {\n  color: #626a6e;\n  text-decoration: none;\n}\n.idsk-card-meta .govuk-link {\n  color: #626a6e;\n  text-decoration: none;\n}\n.pagination {\n  margin-bottom: 70px;\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 0;\n  font-size: 1.2rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\nul,\nol {\n  list-style: none;\n}\n.pagination .disabled .page-link {\n  color: #dee0e2;\n}\n.pagination .disabled {\n  pointer-events: none;\n}\n.pagination .page-item .page-link:hover {\n  background: #dee0e2;\n  color: #204e2e;\n}\n\n@media (min-width: 40.0625em) {\n  .idsk-heading-basic-variant,\n  .idsk-heading-simple {\n    font-size: 19px;\n    font-size: 1.1875rem;\n    line-height: 1.3157894737;\n    min-height: 100px;\n  }\n}\n.pagination .page-item {\n  margin-top: 0.5rem;\n  margin-right: 0.5rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.pagination .page-item .page-link {\n  position: relative;\n  display: block;\n  color: #204e2e;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.pagination .page-item .activated {\n  position: relative;\n  display: block;\n  color: #fff;\n  text-decoration: none;\n  background-color: #204e2e;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.hero-img {\n  height: 250px;\n}\n.item-img {\n  height: 200px;\n}\n.height-grid {\n  height: 400px;\n}\n@media (max-width: 960px) {\n  .hero-img {\n    height: 200px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n@media (min-width: 960px) {\n  .hero-img {\n    height: 300px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n@media (min-width: 40.0625em) {\n  .idsk-card-simple {\n    width: 100%;\n    float: left;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}