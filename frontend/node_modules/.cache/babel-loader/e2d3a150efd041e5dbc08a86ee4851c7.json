{"ast":null,"code":"import \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport LoadingSpin from \"@/components/Loader\";\nimport { useMeta } from \"vue-meta\";\nexport default {\n  name: \"GalleryView\",\n  setup: function setup() {\n    useMeta({\n      title: \"Videá\",\n      htmlAttrs: {\n        lang: \"sk\",\n        amp: true\n      },\n      meta: [{\n        charset: \"utf-8\"\n      }, {\n        name: \"description\",\n        content: \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\"\n      }, {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\"\n      }]\n    });\n  },\n  components: {\n    LoadingSpin: LoadingSpin\n  },\n  data: function data() {\n    return {\n      articles: [],\n      loaded: false,\n      page: 1,\n      pages: 5,\n      itemcount: 6,\n      type: null\n    };\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function handler(val, oldVal) {\n        this.loaded = false;\n        this.type = null;\n        this.getArticles();\n      },\n      deep: true\n    }\n  },\n  methods: {\n    formatDate: function formatDate(dateString) {\n      var date = new Date(dateString);\n      var day = date.toLocaleDateString(\"en-us\", {\n        day: \"numeric\"\n      });\n      var month = date.toLocaleDateString(\"en-us\", {\n        month: \"numeric\"\n      });\n      var year = date.toLocaleDateString(\"en-us\", {\n        year: \"numeric\"\n      });\n      return \"\".concat(day, \".\").concat(month, \".\").concat(year);\n      // Then specify how you want your dates to be formatted\n    },\n    falseFunction: function falseFunction(e) {\n      e.preventDefault();\n    },\n    setPage: function setPage(page) {\n      this.page = page;\n      this.getArticles();\n    },\n    setPageFunction: function setPageFunction(number) {\n      if (number == -1) {\n        if (this.page > 1) {\n          this.page += number;\n          this.getArticles();\n        }\n      } else {\n        if (this.page < this.pages) {\n          this.page += number;\n          this.getArticles();\n        }\n      }\n    },\n    getArticles: function getArticles() {\n      var _this = this;\n      this.articles = [];\n      this.loaded = false;\n      fetch(process.env.VUE_APP_API_URL + \"/videos?sort[0]=datetime%3Adesc&pagination[start]=\".concat((this.page - 1) * 6, \"&pagination[limit]=6\")).then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this.articles = data.data;\n        _this.itemcount = data.meta.pagination.total;\n        console.log(data);\n        _this.pages = data.meta.total <= 6 ? 1 : Math.ceil(data.meta.pagination.total / 6);\n        // console.log(Math.ceil((data.meta.pagination.total - 10) / 9));\n        // console.log(data.data);\n        _this.loaded = true;\n      })[\"catch\"]\n      // catch any errors\n      // that may arise\n      ();\n    }\n  },\n  mounted: function mounted() {\n    this.getArticles();\n  }\n};","map":{"version":3,"mappings":"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","names":["LoadingSpin","useMeta","name","setup","title","htmlAttrs","lang","amp","meta","charset","content","components","data","articles","loaded","page","pages","itemcount","type","watch","$route","handler","val","oldVal","getArticles","deep","methods","formatDate","dateString","date","Date","day","toLocaleDateString","month","year","falseFunction","e","preventDefault","setPage","setPageFunction","number","fetch","process","env","VUE_APP_API_URL","then","response","json","pagination","total","console","log","Math","ceil","mounted"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/views/VideoView.vue"],"sourcesContent":["<template>\n  <div>\n    <div class=\"govuk-width-container\">\n      <div class=\"govuk-main-wrapper govuk-main-wrapper--auto-spacing\">\n        <h1 class=\"govuk-heading-l\">Videá</h1>\n        <LoadingSpin v-if=\"!loaded\"></LoadingSpin>\n        <div v-if=\"loaded && articles.length > 0\">\n          <div>\n            <div v-if=\"loaded\" class=\"govuk-grid-row\">\n              <div\n                v-for=\"article in page == 1 ? articles : articles\"\n                :key=\"article.id\"\n                class=\"govuk-grid-column-one-half\"\n              >\n                <div class=\"idsk-card idsk-card-simple\">\n                  <div\n                    class=\"video-container\"\n                    :innerHTML=\"article.attributes.iframe\"\n                  ></div>\n\n                  <div class=\"idsk-card-content idsk-card-content-simple\">\n                    <div class=\"idsk-heading idsk-heading-simple\">\n                      <a\n                        href=\"#\"\n                        class=\"idsk-card-title govuk-link\"\n                        :title=\"article.attributes.name\"\n                        >{{ article.attributes.name }}</a\n                      >\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <ul v-if=\"this.pages > 1 && loaded\" class=\"pagination\">\n            <li class=\"page-item prev\" :class=\"page == 1 ? 'disabled ' : ''\">\n              <a\n                class=\"page-link\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPageFunction(-1);\n                \"\n                >«</a\n              >\n            </li>\n            <li v-for=\"i in this.pages\" :key=\"i\" class=\"page-item\">\n              <a\n                :class=\"i === page ? 'activated' : 'page-link'\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPage(i);\n                \"\n                >{{ i }}</a\n              >\n            </li>\n\n            <li class=\"page-item next\">\n              <a\n                class=\"page-link\"\n                :class=\"page == pages ? 'disabled ' : ''\"\n                href=\"#\"\n                @click=\"\n                  falseFunction;\n                  setPageFunction(1);\n                \"\n                >»</a\n              >\n            </li>\n          </ul>\n        </div>\n        <div v-else>\n          <h1 v-if=\"loaded\" class=\"govuk-heading-m\">\n            V tejto kategórii zatiaľ nemáme žiadne články\n          </h1>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LoadingSpin from \"@/components/Loader\";\nimport { useMeta } from \"vue-meta\";\n\nexport default {\n  name: \"GalleryView\",\n  setup() {\n    useMeta({\n      title: \"Videá\",\n      htmlAttrs: { lang: \"sk\", amp: true },\n      meta: [\n        { charset: \"utf-8\" },\n        {\n          name: \"description\",\n          content:\n            \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\",\n        },\n        {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\",\n        },\n      ],\n    });\n  },\n  components: {\n    LoadingSpin,\n  },\n  data() {\n    return {\n      articles: [],\n      loaded: false,\n      page: 1,\n      pages: 5,\n      itemcount: 6,\n      type: null,\n    };\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function (val, oldVal) {\n        this.loaded = false;\n\n        this.type = null;\n        this.getArticles();\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      let day = date.toLocaleDateString(\"en-us\", { day: \"numeric\" });\n      let month = date.toLocaleDateString(\"en-us\", { month: \"numeric\" });\n      let year = date.toLocaleDateString(\"en-us\", { year: \"numeric\" });\n      return `${day}.${month}.${year}`;\n      // Then specify how you want your dates to be formatted\n    },\n    falseFunction(e) {\n      e.preventDefault();\n    },\n    setPage(page) {\n      this.page = page;\n      this.getArticles();\n    },\n    setPageFunction(number) {\n      if (number == -1) {\n        if (this.page > 1) {\n          this.page += number;\n          this.getArticles();\n        }\n      } else {\n        if (this.page < this.pages) {\n          this.page += number;\n          this.getArticles();\n        }\n      }\n    },\n    getArticles() {\n      this.articles = [];\n      this.loaded = false;\n\n      fetch(\n        process.env.VUE_APP_API_URL +\n          `/videos?sort[0]=datetime%3Adesc&pagination[start]=${\n            (this.page - 1) * 6\n          }&pagination[limit]=6`\n      )\n        .then((response) => response.json())\n        .then((data) => {\n          this.articles = data.data;\n          this.itemcount = data.meta.pagination.total;\n          console.log(data);\n          this.pages =\n            data.meta.total <= 6\n              ? 1\n              : Math.ceil(data.meta.pagination.total / 6);\n          // console.log(Math.ceil((data.meta.pagination.total - 10) / 9));\n          // console.log(data.data);\n          this.loaded = true;\n        })\n\n        .catch\n        // catch any errors\n        // that may arise\n        ();\n    },\n  },\n\n  mounted() {\n    this.getArticles();\n  },\n};\n</script>\n<style>\n.video-container {\n  position: relative !important;\n  width: 100% !important;\n  padding-bottom: 56.25% !important;\n  overflow: hidden !important;\n}\n.video-container iframe {\n  position: absolute !important;\n  top: 0 !important;\n  left: 0 !important;\n  width: 100% !important;\n  height: 100% !important;\n  border: 0 !important;\n}\n#embedplayer {\n  width: 100% !important;\n  height: 100% !important;\n}\nhtml > body > div > div > video {\n  width: 100% !important;\n  height: 100% !important;\n}\nhtml#facebook.svg .archive-grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  column-gap: 40px;\n}\n.idsk-card-meta .govuk-link:visited {\n  color: #626a6e;\n  text-decoration: none;\n}\n.idsk-card-meta .govuk-link {\n  color: #626a6e;\n  text-decoration: none;\n}\n.pagination {\n  margin-bottom: 70px;\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 0;\n  font-size: 1.2rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\nul,\nol {\n  list-style: none;\n}\n.pagination .disabled .page-link {\n  color: #dee0e2;\n}\n.pagination .disabled {\n  pointer-events: none;\n}\n.pagination .page-item .page-link:hover {\n  background: #dee0e2;\n  color: #204e2e;\n}\n\n@media (min-width: 40.0625em) {\n  .idsk-heading-basic-variant,\n  .idsk-heading-simple {\n    font-size: 19px;\n    font-size: 1.1875rem;\n    line-height: 1.3157894737;\n    min-height: 100px;\n  }\n}\n.pagination .page-item {\n  margin-top: 0.5rem;\n  margin-right: 0.5rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.pagination .page-item .page-link {\n  position: relative;\n  display: block;\n  color: #204e2e;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.pagination .page-item .activated {\n  position: relative;\n  display: block;\n  color: #fff;\n  text-decoration: none;\n  background-color: #204e2e;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.hero-img {\n  height: 250px;\n}\n.item-img {\n  height: 200px;\n}\n.height-grid {\n  height: 400px;\n}\n@media (max-width: 960px) {\n  .hero-img {\n    height: 200px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n@media (min-width: 960px) {\n  .hero-img {\n    height: 300px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n@media (min-width: 40.0625em) {\n  .idsk-card-simple {\n    width: 100%;\n    float: left;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}