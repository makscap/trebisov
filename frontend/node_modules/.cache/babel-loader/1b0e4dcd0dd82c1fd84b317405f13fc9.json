{"ast":null,"code":"import \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"../../../govuk/vendor/polyfills/Function/prototype/bind\";\nimport \"../../../govuk/vendor/polyfills/Event\"; // addEventListener and event.target normalization\nimport { nodeListForEach, toggleClass } from \"../../common\";\n\n/**\n * Crossroad Component\n */\nfunction Crossroad($module) {\n  this.$module = $module;\n  this.$items = $module.querySelectorAll(\".idsk-crossroad-title\");\n}\nCrossroad.prototype.init = function () {\n  var $module = this.$module;\n  var $items = this.$items;\n  var $uncollapseButton = $module.querySelector('#idsk-crossroad__uncollapse-button');\n  if (!$module || !$items) {\n    return;\n  }\n  if ($uncollapseButton) {\n    $uncollapseButton.addEventListener('click', this.handleShowItems.bind(this));\n  }\n  nodeListForEach($items, function ($item) {\n    $item.addEventListener(\"click\", this.handleItemClick.bind(this));\n  }.bind(this));\n};\nCrossroad.prototype.handleItemClick = function (e) {\n  var $item = e.target;\n  $item.setAttribute(\"aria-current\", \"true\");\n};\nCrossroad.prototype.setAriaLabel = function (arr) {\n  arr.forEach(function (item) {\n    if (item.classList.contains('idsk-crossroad__arria-hidden')) {\n      item.setAttribute(\"aria-hidden\", \"true\");\n      toggleClass(item, 'idsk-crossroad__arria-hidden');\n    } else if (item.getAttribute(\"aria-hidden\") == \"true\") {\n      item.setAttribute(\"aria-hidden\", \"false\");\n      toggleClass(item, 'idsk-crossroad__arria-hidden');\n    }\n  });\n};\nCrossroad.prototype.handleShowItems = function (e) {\n  var $crossroadItems = this.$module.querySelectorAll('.idsk-crossroad__item');\n  var $uncollapseButton = this.$module.querySelector('#idsk-crossroad__uncollapse-button');\n  var $uncollapseDiv = this.$module.querySelector('.idsk-crossroad__uncollapse-div');\n  var $crossroadTitles = this.$module.querySelectorAll('.idsk-crossroad-title');\n  var $crossroadSubtitles = this.$module.querySelectorAll('.idsk-crossroad-subtitle');\n  $crossroadItems.forEach(function (crossroadItem) {\n    toggleClass(crossroadItem, 'idsk-crossroad__item--two-columns-show');\n  });\n  this.setAriaLabel($crossroadTitles);\n  this.setAriaLabel($crossroadSubtitles);\n  $uncollapseButton.innerHTML = $uncollapseButton.textContent == $uncollapseButton.dataset.line1 ? $uncollapseButton.dataset.line2 : $uncollapseButton.dataset.line1;\n  toggleClass(e.srcElement, 'idsk-crossroad__colapse--button-show');\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--shadow');\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--arrow');\n};\nexport default Crossroad;","map":{"version":3,"names":["nodeListForEach","toggleClass","Crossroad","$module","$items","querySelectorAll","prototype","init","$uncollapseButton","querySelector","addEventListener","handleShowItems","bind","$item","handleItemClick","e","target","setAttribute","setAriaLabel","arr","forEach","item","classList","contains","getAttribute","$crossroadItems","$uncollapseDiv","$crossroadTitles","$crossroadSubtitles","crossroadItem","innerHTML","textContent","dataset","line1","line2","srcElement"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/crossroad/crossroad.js"],"sourcesContent":["import \"../../../govuk/vendor/polyfills/Function/prototype/bind\";\nimport \"../../../govuk/vendor/polyfills/Event\"; // addEventListener and event.target normalization\nimport { nodeListForEach, toggleClass } from \"../../common\";\n\n/**\n * Crossroad Component\n */\nfunction Crossroad($module) {\n  this.$module = $module;\n  this.$items = $module.querySelectorAll(\".idsk-crossroad-title\");\n}\n\nCrossroad.prototype.init = function () {\n  var $module = this.$module;\n  var $items = this.$items;\n  var $uncollapseButton = $module.querySelector('#idsk-crossroad__uncollapse-button');\n\n  if (!$module || !$items) {\n    return;\n  }\n\n  if ($uncollapseButton) {\n    $uncollapseButton.addEventListener('click', this.handleShowItems.bind(this));\n  }\n\n  nodeListForEach(\n    $items,\n    function ($item) {\n      $item.addEventListener(\"click\", this.handleItemClick.bind(this));\n    }.bind(this)\n  );\n};\n\nCrossroad.prototype.handleItemClick = function (e) {\n  var $item = e.target;\n  $item.setAttribute(\"aria-current\", \"true\");\n};\n\nCrossroad.prototype.setAriaLabel = function (arr) {\n  arr.forEach(function (item) {\n    if (item.classList.contains('idsk-crossroad__arria-hidden')) {\n      item.setAttribute(\"aria-hidden\", \"true\");\n      toggleClass(item, 'idsk-crossroad__arria-hidden');\n    } else if (item.getAttribute(\"aria-hidden\") == \"true\") {\n      item.setAttribute(\"aria-hidden\", \"false\");\n      toggleClass(item, 'idsk-crossroad__arria-hidden');\n    }\n  });\n};\n\nCrossroad.prototype.handleShowItems = function (e) {\n  var $crossroadItems = this.$module.querySelectorAll('.idsk-crossroad__item');\n  var $uncollapseButton = this.$module.querySelector('#idsk-crossroad__uncollapse-button');\n  var $uncollapseDiv = this.$module.querySelector('.idsk-crossroad__uncollapse-div');\n  var $crossroadTitles = this.$module.querySelectorAll('.idsk-crossroad-title');\n  var $crossroadSubtitles = this.$module.querySelectorAll('.idsk-crossroad-subtitle');\n\n  $crossroadItems.forEach(function (crossroadItem) {\n    toggleClass(crossroadItem, 'idsk-crossroad__item--two-columns-show');\n  });\n\n  this.setAriaLabel($crossroadTitles);\n  this.setAriaLabel($crossroadSubtitles);\n\n  $uncollapseButton.innerHTML = $uncollapseButton.textContent == $uncollapseButton.dataset.line1 ? $uncollapseButton.dataset.line2 : $uncollapseButton.dataset.line1;\n\n  toggleClass(e.srcElement, 'idsk-crossroad__colapse--button-show');\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--shadow');\n  toggleClass($uncollapseDiv, 'idsk-crossroad__collapse--arrow');\n};\n\nexport default Crossroad;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}