{"ast":null,"code":"import \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.regexp.test.js\";\nimport '../../../govuk/vendor/polyfills/Event'; // addEventListener and event.target normalization\n\nfunction RegistrationForEvent($module) {\n  this.$module = $module;\n}\nRegistrationForEvent.prototype.init = function () {\n  // Check for module\n  var $module = this.$module;\n  if (!$module) {\n    return;\n  }\n\n  // Check for button\n  var $submitButtons = $module.querySelectorAll('.idsk-registration-for-event-js-submit');\n  if (!$submitButtons) {\n    return;\n  }\n\n  // Handle $submitButtons click events\n  $submitButtons.forEach(function ($submitButton) {\n    $submitButton.addEventListener('click', this.handleSubmitClick.bind(this));\n  }.bind(this));\n};\nRegistrationForEvent.prototype.handleSubmitClick = function (e) {\n  var $module = this.$module;\n  var $form = $module.querySelector('.idsk-registration-for-event__form');\n  var $thankYouMsg = $module.querySelector('.idsk-registration-for-event__thank-you-msg');\n  var $requiredFormItems = $module.querySelectorAll('[required]');\n  var $valid = true;\n  var emailRegex = /\\S+@\\S+\\.\\S+/;\n  $requiredFormItems.forEach(function ($item) {\n    var $formGroup = $item.closest('.govuk-form-group');\n    if (!$item.checkValidity() || $item.type === 'email' && !emailRegex.test($item.value)) {\n      e.preventDefault();\n      $formGroup.querySelector('.govuk-error-message').style.display = 'block';\n      $formGroup.classList.add('govuk-form-group--error');\n      $item.classList.add('govuk-input--error');\n      $valid = false;\n    } else {\n      $formGroup.querySelector('.govuk-error-message').style.display = 'none';\n      $formGroup.classList.remove('govuk-form-group--error');\n      $item.classList.remove('govuk-input--error');\n    }\n  });\n  if ($valid) {\n    $thankYouMsg.style.display = 'block';\n    $form.style.display = 'none';\n  }\n};\nexport default RegistrationForEvent;","map":{"version":3,"names":["RegistrationForEvent","$module","prototype","init","$submitButtons","querySelectorAll","forEach","$submitButton","addEventListener","handleSubmitClick","bind","e","$form","querySelector","$thankYouMsg","$requiredFormItems","$valid","emailRegex","$item","$formGroup","closest","checkValidity","type","test","value","preventDefault","style","display","classList","add","remove"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/registration-for-event/registration-for-event.js"],"sourcesContent":["import '../../../govuk/vendor/polyfills/Event' // addEventListener and event.target normalization\n\nfunction RegistrationForEvent($module) {\n    this.$module = $module;\n}\n\nRegistrationForEvent.prototype.init = function () {\n    // Check for module\n    var $module = this.$module\n    if (!$module) {\n        return\n    }\n\n    // Check for button\n    var $submitButtons = $module.querySelectorAll('.idsk-registration-for-event-js-submit')\n    if (!$submitButtons) {\n        return\n    }\n\n    // Handle $submitButtons click events\n    $submitButtons.forEach(function ($submitButton) {\n        $submitButton.addEventListener('click', this.handleSubmitClick.bind(this))\n    }.bind(this));\n}\n\nRegistrationForEvent.prototype.handleSubmitClick = function (e) {\n    var $module = this.$module\n    var $form = $module.querySelector('.idsk-registration-for-event__form')\n    var $thankYouMsg = $module.querySelector('.idsk-registration-for-event__thank-you-msg')\n    var $requiredFormItems = $module.querySelectorAll('[required]')\n    var $valid = true;\n    var emailRegex = /\\S+@\\S+\\.\\S+/\n\n    $requiredFormItems.forEach(function ($item) {\n        var $formGroup = $item.closest('.govuk-form-group')\n\n        if (!$item.checkValidity() || $item.type === 'email' && !emailRegex.test($item.value)) {\n            e.preventDefault()\n\n            $formGroup.querySelector('.govuk-error-message').style.display = 'block'\n            $formGroup.classList.add('govuk-form-group--error')\n            $item.classList.add('govuk-input--error')\n            $valid = false\n        } else {\n            $formGroup.querySelector('.govuk-error-message').style.display = 'none'\n            $formGroup.classList.remove('govuk-form-group--error')\n            $item.classList.remove('govuk-input--error')\n        }\n    })\n\n    if ($valid) {\n        $thankYouMsg.style.display = 'block'\n        $form.style.display = 'none'\n    }\n}\n\nexport default RegistrationForEvent\n"],"mappings":";;;;;;AAAA,OAAO,uCAAuC,EAAC;;AAE/C,SAASA,oBAAoB,CAACC,OAAO,EAAE;EACnC,IAAI,CAACA,OAAO,GAAGA,OAAO;AAC1B;AAEAD,oBAAoB,CAACE,SAAS,CAACC,IAAI,GAAG,YAAY;EAC9C;EACA,IAAIF,OAAO,GAAG,IAAI,CAACA,OAAO;EAC1B,IAAI,CAACA,OAAO,EAAE;IACV;EACJ;;EAEA;EACA,IAAIG,cAAc,GAAGH,OAAO,CAACI,gBAAgB,CAAC,wCAAwC,CAAC;EACvF,IAAI,CAACD,cAAc,EAAE;IACjB;EACJ;;EAEA;EACAA,cAAc,CAACE,OAAO,CAAC,UAAUC,aAAa,EAAE;IAC5CA,aAAa,CAACC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACC,iBAAiB,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;EAC9E,CAAC,CAACA,IAAI,CAAC,IAAI,CAAC,CAAC;AACjB,CAAC;AAEDV,oBAAoB,CAACE,SAAS,CAACO,iBAAiB,GAAG,UAAUE,CAAC,EAAE;EAC5D,IAAIV,OAAO,GAAG,IAAI,CAACA,OAAO;EAC1B,IAAIW,KAAK,GAAGX,OAAO,CAACY,aAAa,CAAC,oCAAoC,CAAC;EACvE,IAAIC,YAAY,GAAGb,OAAO,CAACY,aAAa,CAAC,6CAA6C,CAAC;EACvF,IAAIE,kBAAkB,GAAGd,OAAO,CAACI,gBAAgB,CAAC,YAAY,CAAC;EAC/D,IAAIW,MAAM,GAAG,IAAI;EACjB,IAAIC,UAAU,GAAG,cAAc;EAE/BF,kBAAkB,CAACT,OAAO,CAAC,UAAUY,KAAK,EAAE;IACxC,IAAIC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,mBAAmB,CAAC;IAEnD,IAAI,CAACF,KAAK,CAACG,aAAa,EAAE,IAAIH,KAAK,CAACI,IAAI,KAAK,OAAO,IAAI,CAACL,UAAU,CAACM,IAAI,CAACL,KAAK,CAACM,KAAK,CAAC,EAAE;MACnFb,CAAC,CAACc,cAAc,EAAE;MAElBN,UAAU,CAACN,aAAa,CAAC,sBAAsB,CAAC,CAACa,KAAK,CAACC,OAAO,GAAG,OAAO;MACxER,UAAU,CAACS,SAAS,CAACC,GAAG,CAAC,yBAAyB,CAAC;MACnDX,KAAK,CAACU,SAAS,CAACC,GAAG,CAAC,oBAAoB,CAAC;MACzCb,MAAM,GAAG,KAAK;IAClB,CAAC,MAAM;MACHG,UAAU,CAACN,aAAa,CAAC,sBAAsB,CAAC,CAACa,KAAK,CAACC,OAAO,GAAG,MAAM;MACvER,UAAU,CAACS,SAAS,CAACE,MAAM,CAAC,yBAAyB,CAAC;MACtDZ,KAAK,CAACU,SAAS,CAACE,MAAM,CAAC,oBAAoB,CAAC;IAChD;EACJ,CAAC,CAAC;EAEF,IAAId,MAAM,EAAE;IACRF,YAAY,CAACY,KAAK,CAACC,OAAO,GAAG,OAAO;IACpCf,KAAK,CAACc,KAAK,CAACC,OAAO,GAAG,MAAM;EAChC;AACJ,CAAC;AAED,eAAe3B,oBAAoB"},"metadata":{},"sourceType":"module"}