{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.for-each.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.for-each.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.array.includes.js\";\nimport \"core-js/modules/es.string.includes.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.search.js\";\nimport \"core-js/modules/es.parse-int.js\";\nimport { routes } from \"@/router\";\nimport statisticsData from \"../assets/statistics.json\";\nexport default {\n  data: function data() {\n    return {\n      values: [],\n      article: {},\n      home: false,\n      types: [{\n        name: \"aktivity\",\n        title: \"Aktivity\"\n      }, {\n        name: \"chodci\",\n        title: \"Chodci\"\n      }, {\n        name: \"cyklisti\",\n        title: \"Cyklisti\"\n      }, {\n        name: \"deti\",\n        title: \"Deti\"\n      }, {\n        name: \"mladi-vodici\",\n        title: \"Mladí vodiči\"\n      }, {\n        name: \"motocyklisti\",\n        title: \"Motocyklisti\"\n      }, {\n        name: \"profesionali\",\n        title: \"Profesionáli\"\n      }, {\n        name: \"seniori\",\n        title: \"Seniori\"\n      }, {\n        name: \"vizia-nula\",\n        title: \"Vízia nula\"\n      }, {\n        name: \"vodici\",\n        title: \"Vodiči\"\n      }, {\n        name: \"becep\",\n        title: \"BECEP\"\n      }]\n    };\n  },\n  name: \"BreadcrumbsComponent\",\n  beforeMount: function beforeMount() {\n    this.types.forEach(function (element) {\n      routes.push({\n        name: element.name,\n        title: element.title\n      });\n    });\n    this.setValues();\n  },\n  mounted: function mounted() {\n    if (this.$route.query.id) {\n      // console.log(\"sth\");\n      this.getArticle();\n    }\n  },\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    $route: function $route() {\n      this.setValues();\n    }\n  },\n  methods: {\n    setValues: function setValues() {\n      this.values = this.$route.path.split(\"/\");\n      // console.log(\"routes\", routes);\n      if (this.$route.query.id) this.values.push(\"name\");\n      if (this.$route.query.id) {\n        // console.log(\"sth\");\n        this.getArticle();\n      }\n      this.home = this.$route.path === \"/\";\n    },\n    getName: function getName(value, index) {\n      var route = routes.find(function (route) {\n        return route.name === value;\n      });\n      if (this.$route.fullPath.includes(\"vyhladavanie\") && index === this.values.length - 1) {\n        route = {\n          title: \"Hľadať: \" + this.$route.query.search\n        };\n      }\n      if (this.$route.fullPath.includes(\"statistiky/\") && index === this.values.length - 1) {\n        route = {\n          title: statisticsData[parseInt(this.values[this.values.length - 1]) - 1].title\n        };\n      }\n      if (value === \"name\") {\n        route = {\n          title: this.article.name\n        };\n      }\n      return route ? route.title : \"null\";\n    },\n    getBackUrl: function getBackUrl(index) {\n      var url = \"\";\n      this.values.forEach(function (value, i) {\n        if (value && i <= index) url += \"/\" + value;\n      });\n      if (!url) url = \"/\";\n      // console.log(\"final url\", url);\n      return url;\n    },\n    getArticle: function getArticle() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, jsonData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(process.env.VUE_APP_API_URL + \"/articles/\".concat(_this.$route.query.id, \"/?fields[0]=name\"));\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n              case 5:\n                jsonData = _context.sent;\n                _this.article = jsonData.data.attributes;\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["routes","statisticsData","data","values","article","home","types","name","title","beforeMount","forEach","element","push","setValues","mounted","$route","query","id","getArticle","watch","methods","path","split","getName","value","index","route","find","fullPath","includes","length","search","parseInt","getBackUrl","url","i","fetch","process","env","VUE_APP_API_URL","res","json","jsonData","attributes"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/components/Breadcrumbs.vue"],"sourcesContent":["/* eslint-disable */\n<template>\n  <div class=\"govuk-width-container breadcrumbs\" v-if=\"!home\">\n    <div class=\"govuk-breadcrumbs\">\n      <ol class=\"govuk-breadcrumbs__list\">\n        <li\n          class=\"govuk-breadcrumbs__list-item\"\n          v-for=\"(value, index) in values\"\n          :key=\"index\"\n        >\n          <router-link\n            class=\"govuk-breadcrumbs__link\"\n            :title=\"'Odkaz na podstránku ' + value\"\n            :to=\"getBackUrl(index)\"\n            v-if=\"values.length - 1 > index\"\n            ><i class=\"fas fa-home icon\" v-if=\"!value\"></i\n            >{{\n              !value\n                ? \"Domov\"\n                : getName(value, index) === \"null\"\n                ? \"\"\n                : getName(value, index)\n            }}</router-link\n          >\n          {{ values.length - 1 === index ? getName(value, index) : \"\" }}\n        </li>\n      </ol>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { routes } from \"@/router\";\nimport statisticsData from \"../assets/statistics.json\";\n\nexport default {\n  data() {\n    return {\n      values: [],\n      article: {},\n      home: false,\n      types: [\n        { name: \"aktivity\", title: \"Aktivity\" },\n        { name: \"chodci\", title: \"Chodci\" },\n        { name: \"cyklisti\", title: \"Cyklisti\" },\n        { name: \"deti\", title: \"Deti\" },\n        { name: \"mladi-vodici\", title: \"Mladí vodiči\" },\n        { name: \"motocyklisti\", title: \"Motocyklisti\" },\n        { name: \"profesionali\", title: \"Profesionáli\" },\n        { name: \"seniori\", title: \"Seniori\" },\n        { name: \"vizia-nula\", title: \"Vízia nula\" },\n        { name: \"vodici\", title: \"Vodiči\" },\n        { name: \"becep\", title: \"BECEP\" },\n      ],\n    };\n  },\n  name: \"BreadcrumbsComponent\",\n  beforeMount() {\n    this.types.forEach((element) => {\n      routes.push({ name: element.name, title: element.title });\n    });\n    this.setValues();\n  },\n  mounted() {\n    if (this.$route.query.id) {\n      // console.log(\"sth\");\n      this.getArticle();\n    }\n  },\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    $route() {\n      this.setValues();\n    },\n  },\n  methods: {\n    setValues() {\n      this.values = this.$route.path.split(\"/\");\n      // console.log(\"routes\", routes);\n      if (this.$route.query.id) this.values.push(\"name\");\n      if (this.$route.query.id) {\n        // console.log(\"sth\");\n        this.getArticle();\n      }\n      this.home = this.$route.path === \"/\";\n    },\n    getName(value, index) {\n      let route = routes.find((route) => route.name === value);\n      if (\n        this.$route.fullPath.includes(\"vyhladavanie\") &&\n        index === this.values.length - 1\n      ) {\n        route = {\n          title: \"Hľadať: \" + this.$route.query.search,\n        };\n      }\n      if (\n        this.$route.fullPath.includes(\"statistiky/\") &&\n        index === this.values.length - 1\n      ) {\n        route = {\n          title:\n            statisticsData[parseInt(this.values[this.values.length - 1]) - 1]\n              .title,\n        };\n      }\n      if (value === \"name\") {\n        route = {\n          title: this.article.name,\n        };\n      }\n      return route ? route.title : \"null\";\n    },\n    getBackUrl(index) {\n      let url = \"\";\n      this.values.forEach((value, i) => {\n        if (value && i <= index) url += \"/\" + value;\n      });\n      if (!url) url = \"/\";\n      // console.log(\"final url\", url);\n      return url;\n    },\n    async getArticle() {\n      const res = await fetch(\n        process.env.VUE_APP_API_URL +\n          `/articles/${this.$route.query.id}/?fields[0]=name`\n      );\n      const jsonData = await res.json();\n      this.article = jsonData.data.attributes;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.breadcrumbs {\n  width: 100%;\n}\n@media screen and (max-width: 1020px) {\n  .breadcrumbs {\n    width: auto;\n  }\n}\n.icon {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}