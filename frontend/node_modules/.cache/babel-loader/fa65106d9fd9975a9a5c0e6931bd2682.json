{"ast":null,"code":"import \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, createBlock as _createBlock, normalizeClass as _normalizeClass } from \"vue\";\nvar _hoisted_1 = {\n  key: 0\n};\nvar _hoisted_2 = {\n  key: 0,\n  \"class\": \"govuk-width-container\",\n  style: {\n    \"margin-bottom\": \"100px\"\n  }\n};\nvar _hoisted_3 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  \"class\": \"govuk-heading-l\"\n}, \"Archív\", -1 /* HOISTED */);\nvar _hoisted_4 = {\n  \"class\": \"archive-grid\"\n};\nvar _hoisted_5 = /*#__PURE__*/_createElementVNode(\"hr\", {\n  \"class\": \"idsk-crossroad-line\",\n  \"aria-hidden\": \"true\"\n}, null, -1 /* HOISTED */);\nvar _hoisted_6 = {\n  key: 1,\n  \"class\": \"govuk-width-container\"\n};\nvar _hoisted_7 = {\n  \"class\": \"govuk-main-wrapper govuk-main-wrapper--auto-spacing\"\n};\nvar _hoisted_8 = {\n  \"class\": \"govuk-heading-l\"\n};\nvar _hoisted_9 = {\n  key: 1\n};\nvar _hoisted_10 = {\n  key: 0,\n  \"class\": \"govuk-grid-row\"\n};\nvar _hoisted_11 = {\n  \"class\": \"govuk-grid-column-full\"\n};\nvar _hoisted_12 = {\n  \"class\": \"idsk-card idsk-card-hero\"\n};\nvar _hoisted_13 = [\"src\", \"alt\"];\nvar _hoisted_14 = {\n  \"class\": \"idsk-card-content idsk-card-content-hero\"\n};\nvar _hoisted_15 = {\n  \"class\": \"idsk-card-meta-container\"\n};\nvar _hoisted_16 = {\n  \"class\": \"idsk-card-meta idsk-card-meta-date\"\n};\nvar _hoisted_17 = [\"title\"];\nvar _hoisted_18 = {\n  \"class\": \"idsk-card-meta idsk-card-meta-tag\"\n};\nvar _hoisted_19 = [\"title\"];\nvar _hoisted_20 = {\n  \"class\": \"idsk-heading idsk-heading-hero\"\n};\nvar _hoisted_21 = {\n  \"class\": \"idsk-body idsk-body-hero\"\n};\nvar _hoisted_22 = {\n  key: 0,\n  \"class\": \"govuk-grid-row\"\n};\nvar _hoisted_23 = {\n  \"class\": \"idsk-card idsk-card-secondary\"\n};\nvar _hoisted_24 = [\"src\", \"alt\"];\nvar _hoisted_25 = {\n  \"class\": \"idsk-card-content idsk-card-content-secondary\"\n};\nvar _hoisted_26 = {\n  \"class\": \"idsk-card-meta-container\"\n};\nvar _hoisted_27 = {\n  \"class\": \"idsk-card-meta idsk-card-meta-date\"\n};\nvar _hoisted_28 = [\"title\"];\nvar _hoisted_29 = {\n  \"class\": \"idsk-card-meta idsk-card-meta-tag\"\n};\nvar _hoisted_30 = [\"title\"];\nvar _hoisted_31 = {\n  \"class\": \"idsk-heading idsk-heading-secondary\"\n};\nvar _hoisted_32 = {\n  \"class\": \"idsk-body idsk-body-secondary\"\n};\nvar _hoisted_33 = {\n  key: 1,\n  \"class\": \"pagination\"\n};\nvar _hoisted_34 = [\"onClick\", \"title\"];\nvar _hoisted_35 = {\n  \"class\": \"page-item next\"\n};\nvar _hoisted_36 = {\n  key: 2\n};\nvar _hoisted_37 = {\n  key: 0,\n  \"class\": \"govuk-heading-m\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _$data$type;\n  var _component_router_link = _resolveComponent(\"router-link\");\n  var _component_LoadingSpin = _resolveComponent(\"LoadingSpin\");\n  var _component_ArticleView = _resolveComponent(\"ArticleView\");\n  return _openBlock(), _createElementBlock(\"div\", null, [!_ctx.articleId ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [!$data.type ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.types, function (type) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      style: {\n        \"margin-top\": \"40px\"\n      },\n      key: type.slug\n    }, [_createVNode(_component_router_link, {\n      to: \"/archiv/\".concat(type.slug),\n      \"class\": \"idsk-crossroad-title green link\",\n      title: 'Po kliknutií sa otvorí náhľady článkov z kategórie ' + type.value\n    }, {\n      \"default\": _withCtx(function () {\n        return [_createTextVNode(_toDisplayString(type.value), 1 /* TEXT */)];\n      }),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"title\"]), _hoisted_5]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true), $data.type ? (_openBlock(), _createElementBlock(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_createElementVNode(\"h1\", _hoisted_8, _toDisplayString((_$data$type = $data.type) === null || _$data$type === void 0 ? void 0 : _$data$type.value), 1 /* TEXT */), !$data.loaded ? (_openBlock(), _createBlock(_component_LoadingSpin, {\n    key: 0\n  })) : _createCommentVNode(\"v-if\", true), $data.loaded && $data.articles.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, [$data.page == 1 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createVNode(_component_router_link, {\n    to: $options.getCrazyUrl($data.articles[0]),\n    title: $data.articles[0].attributes.titleImage.data ? $data.articles[0].attributes.titleImage.data.attributes.url : ''\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createElementVNode(\"img\", {\n        style: {\n          \"object-fit\": \"cover\"\n        },\n        \"class\": \"idsk-card-img idsk-card-img-hero hero-img\",\n        width: \"100%\",\n        src: $data.articles[0].attributes.titleImage.data ? $data.articles[0].attributes.titleImage.data.attributes.url : require('@/assets/becep_logo.svg'),\n        alt: $data.articles[0].attributes.titleImage.data ? 'Alternatívny popis obrázka je nasledujúci. ' + $data.articles[0].attributes.titleImage.data.attributes.alternativeText.substring(0, 70) : 'placeholder',\n        \"aria-hidden\": \"true\"\n      }, null, 8 /* PROPS */, _hoisted_13)];\n    }),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\", \"title\"]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"span\", _hoisted_16, [_createElementVNode(\"a\", {\n    href: \"#\",\n    \"class\": \"govuk-link\",\n    onClick: _cache[0] || (_cache[0] = function () {\n      return $options.falseFunction && $options.falseFunction.apply($options, arguments);\n    }),\n    title: 'Pridané dňa : ' + $data.articles[0].attributes.datetime\n  }, _toDisplayString(\n  // eslint-disable-next-line vue/no-deprecated-filter\n  $options.formatDate($data.articles[0].attributes.datetime)), 9 /* TEXT, PROPS */, _hoisted_17)]), _createElementVNode(\"span\", _hoisted_18, [_createElementVNode(\"a\", {\n    href: \"#\",\n    \"class\": \"govuk-link\",\n    title: 'Článok patrí do kategórie ' + $data.articles[0].attributes.categories.data[0].attributes,\n    onClick: _cache[1] || (_cache[1] = function () {\n      return $options.falseFunction && $options.falseFunction.apply($options, arguments);\n    })\n  }, _toDisplayString($data.articles[0].attributes.categories.data[0].attributes.name), 9 /* TEXT, PROPS */, _hoisted_19)])]), _createElementVNode(\"div\", _hoisted_20, [_createVNode(_component_router_link, {\n    to: $options.getCrazyUrl($data.articles[0]),\n    \"class\": \"idsk-card-title govuk-link\",\n    title: 'Po kliknutií sa otvorí v tomto okne článok s názvom ' + $data.articles[0].attributes.name\n  }, {\n    \"default\": _withCtx(function () {\n      return [_createTextVNode(_toDisplayString($data.articles[0].attributes.name), 1 /* TEXT */)];\n    }),\n\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"to\", \"title\"])]), _createElementVNode(\"p\", _hoisted_21, _toDisplayString($data.articles[0].attributes.description), 1 /* TEXT */)])])])])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"div\", null, [$data.loaded ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.page == 1 ? $data.articles.slice(1) : $data.articles, function (article) {\n    return _openBlock(), _createElementBlock(\"div\", {\n      key: article.id,\n      \"class\": \"govuk-grid-column-one-third\"\n    }, [_createElementVNode(\"div\", _hoisted_23, [_createVNode(_component_router_link, {\n      to: $options.getCrazyUrl(article),\n      title: 'Po kliknutií sa otvorí v tomto okne článok s názvom ' + article.attributes.name\n    }, {\n      \"default\": _withCtx(function () {\n        return [_createElementVNode(\"img\", {\n          \"class\": \"idsk-card-img idsk-card-img-secondary item-img\",\n          style: {\n            \"width\": \"100%\",\n            \"object-fit\": \"cover\"\n          },\n          src: article.attributes.titleImage.data ? article.attributes.titleImage.data.attributes.url : require('@/assets/becep_logo.svg'),\n          alt: article.attributes.titleImage.data ? 'Alternatívny popis obrázka je nasledujúci. ' + article.attributes.titleImage.data.attributes.alternativeText.substring(0, 70) : 'placeholder',\n          \"aria-hidden\": \"true\"\n        }, null, 8 /* PROPS */, _hoisted_24)];\n      }),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"title\"]), _createElementVNode(\"div\", _hoisted_25, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"span\", _hoisted_27, [_createElementVNode(\"a\", {\n      href: \"#\",\n      onClick: _cache[2] || (_cache[2] = function () {\n        return $options.falseFunction && $options.falseFunction.apply($options, arguments);\n      }),\n      \"class\": \"govuk-link\",\n      title: 'Pridané dňa:' + $options.formatDate(article.attributes.datetime)\n    }, _toDisplayString($options.formatDate(article.attributes.datetime)), 9 /* TEXT, PROPS */, _hoisted_28)]), _createElementVNode(\"span\", _hoisted_29, [_createElementVNode(\"a\", {\n      href: \"#\",\n      \"class\": \"govuk-link\",\n      title: 'Článok patrí do kategórie ' + article.attributes.categories.data[0].attributes.name,\n      onClick: _cache[3] || (_cache[3] = function () {\n        return $options.falseFunction && $options.falseFunction.apply($options, arguments);\n      })\n    }, _toDisplayString(article.attributes.categories.data[0].attributes.name), 9 /* TEXT, PROPS */, _hoisted_30)])]), _createElementVNode(\"div\", _hoisted_31, [_createVNode(_component_router_link, {\n      to: $options.getCrazyUrl(article),\n      \"class\": \"idsk-card-title govuk-link\",\n      title: 'Po kliknutií sa otvorí v tomto okne článok s názvom ' + article.attributes.name\n    }, {\n      \"default\": _withCtx(function () {\n        return [_createTextVNode(_toDisplayString(article.attributes.name), 1 /* TEXT */)];\n      }),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\", \"title\"])]), _createElementVNode(\"p\", _hoisted_32, _toDisplayString(article.attributes.description.substring(0, 270)) + \" ... \", 1 /* TEXT */)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true)]), this.pages > 1 && $data.loaded ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_33, [_createElementVNode(\"li\", {\n    \"class\": _normalizeClass([\"page-item prev\", $data.page == 1 ? 'disabled ' : ''])\n  }, [_createElementVNode(\"a\", {\n    \"class\": \"page-link\",\n    href: \"#\",\n    onClick: _cache[4] || (_cache[4] = function ($event) {\n      $options.falseFunction;\n      $options.setPageFunction(-1);\n    }),\n    title: \"Prechod na predchádzajúcu stránku\"\n  }, \"«\")], 2 /* CLASS */), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.pages, function (i) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: i,\n      \"class\": \"page-item\"\n    }, [_createElementVNode(\"a\", {\n      \"class\": _normalizeClass(i === $data.page ? 'activated' : 'page-link'),\n      href: \"#\",\n      onClick: function onClick($event) {\n        $options.falseFunction;\n        $options.setPage(i);\n      },\n      title: 'Prechod na stránku číslo' + i\n    }, _toDisplayString(i), 11 /* TEXT, CLASS, PROPS */, _hoisted_34)]);\n  }), 128 /* KEYED_FRAGMENT */)), _createElementVNode(\"li\", _hoisted_35, [_createElementVNode(\"a\", {\n    \"class\": _normalizeClass([\"page-link\", $data.page == $data.pages ? 'disabled ' : '']),\n    href: \"#\",\n    onClick: _cache[5] || (_cache[5] = function ($event) {\n      $options.falseFunction;\n      $options.setPageFunction(1);\n    }),\n    title: \"Prechod na nasledujúcu stránku\"\n  }, \"»\", 2 /* CLASS */)])])) : _createCommentVNode(\"v-if\", true)])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_36, [$data.loaded ? (_openBlock(), _createElementBlock(\"h1\", _hoisted_37, \" V tejto kategórii zatiaľ nemáme žiadne články \")) : _createCommentVNode(\"v-if\", true)]))])])) : _createCommentVNode(\"v-if\", true)])) : _createCommentVNode(\"v-if\", true), _ctx.articleId ? (_openBlock(), _createBlock(_component_ArticleView, {\n    key: 1,\n    title: \"Archív\"\n  })) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"mappings":"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","names":["style","_createElementVNode","_createElementBlock","_ctx","$data","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","type","key","slug","_createVNode","_component_router_link","to","title","value","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_createBlock","_component_LoadingSpin","length","_hoisted_10","_hoisted_11","_hoisted_12","$options","attributes","titleImage","data","url","width","src","require","alt","alternativeText","substring","_hoisted_14","_hoisted_15","_hoisted_16","href","onClick","datetime","_hoisted_18","categories","name","_hoisted_20","_hoisted_21","description","_hoisted_22","slice","article","id","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_31","_hoisted_32","pages","_hoisted_33","_normalizeClass","i","_hoisted_35","_hoisted_37","_component_ArticleView"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/views/ArchiveView.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"!articleId\">\n      <div\n        v-if=\"!type\"\n        class=\"govuk-width-container\"\n        style=\"margin-bottom: 100px\"\n      >\n        <h1 class=\"govuk-heading-l\">Archív</h1>\n        <div class=\"archive-grid\">\n          <div style=\"margin-top: 40px\" v-for=\"type in types\" :key=\"type.slug\">\n            <router-link\n              :to=\"`/archiv/${type.slug}`\"\n              class=\"idsk-crossroad-title green link\"\n              :title=\"\n                'Po kliknutií sa otvorí náhľady článkov z kategórie ' +\n                type.value\n              \"\n            >\n              {{ type.value }}\n            </router-link>\n            <hr class=\"idsk-crossroad-line\" aria-hidden=\"true\" />\n          </div>\n        </div>\n      </div>\n      <div v-if=\"type\" class=\"govuk-width-container\">\n        <div class=\"govuk-main-wrapper govuk-main-wrapper--auto-spacing\">\n          <h1 class=\"govuk-heading-l\">{{ type?.value }}</h1>\n          <LoadingSpin v-if=\"!loaded\"></LoadingSpin>\n          <div v-if=\"loaded && articles.length > 0\">\n            <div class=\"govuk-grid-row\" v-if=\"page == 1\">\n              <div class=\"govuk-grid-column-full\">\n                <div class=\"idsk-card idsk-card-hero\">\n                  <router-link\n                    :to=\"getCrazyUrl(articles[0])\"\n                    :title=\"\n                      articles[0].attributes.titleImage.data\n                        ? articles[0].attributes.titleImage.data.attributes.url\n                        : ''\n                    \"\n                  >\n                    <img\n                      style=\"object-fit: cover\"\n                      class=\"idsk-card-img idsk-card-img-hero hero-img\"\n                      width=\"100%\"\n                      :src=\"\n                        articles[0].attributes.titleImage.data\n                          ? articles[0].attributes.titleImage.data.attributes\n                              .url\n                          : require('@/assets/becep_logo.svg')\n                      \"\n                      :alt=\"\n                        articles[0].attributes.titleImage.data\n                          ? 'Alternatívny popis obrázka je nasledujúci. ' +\n                            articles[0].attributes.titleImage.data.attributes.alternativeText.substring(\n                              0,\n                              70\n                            )\n                          : 'placeholder'\n                      \"\n                      aria-hidden=\"true\"\n                    />\n                  </router-link>\n\n                  <div class=\"idsk-card-content idsk-card-content-hero\">\n                    <div class=\"idsk-card-meta-container\">\n                      <span class=\"idsk-card-meta idsk-card-meta-date\"\n                        ><a\n                          href=\"#\"\n                          class=\"govuk-link\"\n                          @click=\"falseFunction\"\n                          :title=\"\n                            'Pridané dňa : ' + articles[0].attributes.datetime\n                          \"\n                          >{{\n                            // eslint-disable-next-line vue/no-deprecated-filter\n                            formatDate(articles[0].attributes.datetime)\n                          }}</a\n                        ></span\n                      >\n                      <span class=\"idsk-card-meta idsk-card-meta-tag\"\n                        ><a\n                          href=\"#\"\n                          class=\"govuk-link\"\n                          :title=\"\n                            'Článok patrí do kategórie ' +\n                            articles[0].attributes.categories.data[0].attributes\n                          \"\n                          @click=\"falseFunction\"\n                          >{{\n                            articles[0].attributes.categories.data[0].attributes\n                              .name\n                          }}</a\n                        ></span\n                      >\n                    </div>\n\n                    <div class=\"idsk-heading idsk-heading-hero\">\n                      <router-link\n                        :to=\"getCrazyUrl(articles[0])\"\n                        class=\"idsk-card-title govuk-link\"\n                        :title=\"\n                          'Po kliknutií sa otvorí v tomto okne článok s názvom ' +\n                          articles[0].attributes.name\n                        \"\n                        >{{ articles[0].attributes.name }}</router-link\n                      >\n                    </div>\n\n                    <p class=\"idsk-body idsk-body-hero\">\n                      {{ articles[0].attributes.description }}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              <div v-if=\"loaded\" class=\"govuk-grid-row\">\n                <div\n                  v-for=\"article in page == 1 ? articles.slice(1) : articles\"\n                  :key=\"article.id\"\n                  class=\"govuk-grid-column-one-third\"\n                >\n                  <div class=\"idsk-card idsk-card-secondary\">\n                    <router-link\n                      :to=\"getCrazyUrl(article)\"\n                      :title=\"\n                        'Po kliknutií sa otvorí v tomto okne článok s názvom ' +\n                        article.attributes.name\n                      \"\n                    >\n                      <img\n                        class=\"idsk-card-img idsk-card-img-secondary item-img\"\n                        style=\"width: 100%; object-fit: cover\"\n                        :src=\"\n                          article.attributes.titleImage.data\n                            ? article.attributes.titleImage.data.attributes.url\n                            : require('@/assets/becep_logo.svg')\n                        \"\n                        :alt=\"\n                          article.attributes.titleImage.data\n                            ? 'Alternatívny popis obrázka je nasledujúci. ' +\n                              article.attributes.titleImage.data.attributes.alternativeText.substring(\n                                0,\n                                70\n                              )\n                            : 'placeholder'\n                        \"\n                        aria-hidden=\"true\"\n                      />\n                    </router-link>\n\n                    <div class=\"idsk-card-content idsk-card-content-secondary\">\n                      <div class=\"idsk-card-meta-container\">\n                        <span class=\"idsk-card-meta idsk-card-meta-date\"\n                          ><a\n                            href=\"#\"\n                            @click=\"falseFunction\"\n                            class=\"govuk-link\"\n                            :title=\"\n                              'Pridané dňa:' +\n                              formatDate(article.attributes.datetime)\n                            \"\n                            >{{ formatDate(article.attributes.datetime) }}</a\n                          ></span\n                        >\n                        <span class=\"idsk-card-meta idsk-card-meta-tag\"\n                          ><a\n                            href=\"#\"\n                            class=\"govuk-link\"\n                            :title=\"\n                              'Článok patrí do kategórie ' +\n                              article.attributes.categories.data[0].attributes\n                                .name\n                            \"\n                            @click=\"falseFunction\"\n                            >{{\n                              article.attributes.categories.data[0].attributes\n                                .name\n                            }}</a\n                          ></span\n                        >\n                      </div>\n\n                      <div class=\"idsk-heading idsk-heading-secondary\">\n                        <router-link\n                          :to=\"getCrazyUrl(article)\"\n                          class=\"idsk-card-title govuk-link\"\n                          :title=\"\n                            'Po kliknutií sa otvorí v tomto okne článok s názvom ' +\n                            article.attributes.name\n                          \"\n                          >{{ article.attributes.name }}</router-link\n                        >\n                      </div>\n\n                      <p class=\"idsk-body idsk-body-secondary\">\n                        {{ article.attributes.description.substring(0, 270) }}\n                        ...\n                      </p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <ul v-if=\"this.pages > 1 && loaded\" class=\"pagination\">\n              <li class=\"page-item prev\" :class=\"page == 1 ? 'disabled ' : ''\">\n                <a\n                  class=\"page-link\"\n                  href=\"#\"\n                  @click=\"\n                    falseFunction;\n                    setPageFunction(-1);\n                  \"\n                  title=\"Prechod na predchádzajúcu stránku\"\n                  >«</a\n                >\n              </li>\n              <li v-for=\"i in this.pages\" :key=\"i\" class=\"page-item\">\n                <a\n                  :class=\"i === page ? 'activated' : 'page-link'\"\n                  href=\"#\"\n                  @click=\"\n                    falseFunction;\n                    setPage(i);\n                  \"\n                  :title=\"'Prechod na stránku číslo' + i\"\n                  >{{ i }}</a\n                >\n              </li>\n\n              <li class=\"page-item next\">\n                <a\n                  class=\"page-link\"\n                  :class=\"page == pages ? 'disabled ' : ''\"\n                  href=\"#\"\n                  @click=\"\n                    falseFunction;\n                    setPageFunction(1);\n                  \"\n                  title=\"Prechod na nasledujúcu stránku\"\n                  >»</a\n                >\n              </li>\n            </ul>\n          </div>\n          <div v-else>\n            <h1 v-if=\"loaded\" class=\"govuk-heading-m\">\n              V tejto kategórii zatiaľ nemáme žiadne články\n            </h1>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ArticleView v-if=\"articleId\" title=\"Archív\" />\n  </div>\n</template>\n<script>\nimport LoadingSpin from \"@/components/Loader\";\nimport ArticleView from \"@/views/ArticleView\";\nimport { useMeta } from \"vue-meta\";\n\nexport default {\n  name: \"ArchiveView\",\n  setup() {\n    useMeta({\n      title: \"Archív\",\n      htmlAttrs: { lang: \"sk\", amp: true },\n      meta: [\n        { charset: \"utf-8\" },\n        {\n          name: \"description\",\n          content:\n            \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\",\n        },\n        {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\",\n        },\n      ],\n    });\n  },\n  components: {\n    LoadingSpin,\n    ArticleView,\n  },\n  data() {\n    return {\n      articles: [],\n      loaded: false,\n      page: 1,\n      pages: 5,\n      itemcount: 10,\n      type: null,\n      archive: false,\n      types: [\n        { slug: \"becep\", value: \"BECEP\" },\n        { slug: \"aktivity\", value: \"Aktivity\" },\n        { slug: \"chodci\", value: \"Chodci\" },\n        { slug: \"deti\", value: \"Deti\" },\n        { slug: \"seniori\", value: \"Seniori\" },\n        { slug: \"cyklisti\", value: \"Cyklisti\" },\n        { slug: \"motocyklisti\", value: \"Motocyklisti\" },\n        { slug: \"vodici\", value: \"Vodiči\" },\n        { slug: \"mladi-vodici\", value: \"Mladí vodiči\" },\n        { slug: \"profesionali\", value: \"Profesionáli\" },\n      ],\n    };\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function (val, oldVal) {\n        this.loaded = false;\n        const type = val.params.archivetype;\n        // console.log(type);\n        this.articleId = this.$route.query.id;\n        if (type !== undefined) {\n          const checkType = this.types.filter((value) => {\n            return value.slug == type;\n          });\n          if (checkType.length != 0) {\n            this.type = checkType[0];\n\n            this.getArticles();\n          }\n        } else {\n          this.type = null;\n          this.getArticles();\n        }\n      },\n      deep: true,\n    },\n  },\n  methods: {\n    async getCategories() {\n      const res = await fetch(process.env.VUE_APP_API_URL + `/categories`);\n      const jsonData = await res.json();\n      this.types = this.types.map((type) => {\n        const data = jsonData.data.find((d) => {\n          return d.attributes.name === type.value;\n        });\n        return { slug: type.slug, value: type.value, id: data.id };\n      });\n    },\n    formatDate(dateString) {\n      const date = new Date(dateString);\n      let day = date.toLocaleDateString(\"en-us\", { day: \"numeric\" });\n      let month = date.toLocaleDateString(\"en-us\", { month: \"numeric\" });\n      let year = date.toLocaleDateString(\"en-us\", { year: \"numeric\" });\n      return `${day}.${month}.${year}`;\n      // Then specify how you want your dates to be formatted\n    },\n    falseFunction(e) {\n      e.preventDefault();\n    },\n    setPage(page) {\n      this.page = page;\n      this.getArticles();\n    },\n    setPageFunction(number) {\n      if (number == -1) {\n        if (this.page > 1) {\n          this.page += number;\n          this.getArticles();\n        }\n      } else {\n        if (this.page < this.pages) {\n          this.page += number;\n          this.getArticles();\n        }\n      }\n    },\n    toNormalForm(str) {\n      return (\n        str\n          .normalize(\"NFD\")\n          .replace(/[\\u0300-\\u036f]/g, \"\")\n          .replaceAll(\" \", \"-\")\n          .toLowerCase()\n          .substring(0, 30) + \"...\"\n      );\n    },\n    getCrazyUrl(article) {\n      return `/archiv/${\n        this.types.find(\n          (t) => t.id === article.attributes.categories.data[0].id\n        )?.slug\n      }?id=${article.id}&name=${this.toNormalForm(article.attributes.name)}`;\n    },\n    getArticles() {\n      this.articles = [];\n      this.loaded = false;\n      if (this.type != null) {\n        fetch(\n          process.env.VUE_APP_API_URL +\n            `/articles?populate[0]=categories&populate[1]=titleImage&populate[2]=photoGallery.images&sort=datetime:desc&filters[archive][$eq]=true${\n              this.type\n                ? \"&filters[categories][name][$contains]=\" + this.type.value\n                : \"\"\n            }&pagination[start]=${\n              this.page == 1 ? 0 : (this.page - 2) * 9 + 10\n            }&pagination[limit]=${this.page == 1 ? 10 : 9}`\n        )\n          .then((response) => response.json())\n          .then((data) => {\n            this.articles = data.data;\n            this.itemcount = data.meta.pagination.total;\n            this.pages =\n              data.meta.total <= 10\n                ? 1\n                : Math.ceil((data.meta.pagination.total - 10) / 9) + 1;\n            // console.log(Math.ceil((data.meta.pagination.total - 10) / 9));\n            // console.log(data.data);\n            this.loaded = true;\n          })\n\n          .catch\n          // catch any errors\n          // that may arise\n          ();\n      }\n    },\n  },\n  beforeMount() {\n    this.articleId = this.$route.query.id;\n    this.getCategories();\n  },\n  mounted() {\n    const type = this.$route.params.archivetype;\n    // console.log(type);\n    if (type !== null) {\n      const checkType = this.types.filter((value) => {\n        return value.slug == type;\n      });\n      if (checkType.length != 0) {\n        this.type = checkType[0];\n\n        this.getArticles();\n      }\n    }\n  },\n};\n</script>\n<style>\n.archive-grid {\n  display: grid;\n  grid-template-columns: repeat(2, minmax(0, 1fr));\n  column-gap: 40px;\n}\n.idsk-card-meta .govuk-link:visited {\n  color: #626a6e;\n  text-decoration: none;\n}\n.idsk-card-meta .govuk-link {\n  color: #626a6e;\n  text-decoration: none;\n}\n.pagination {\n  margin-bottom: 70px;\n  width: 100%;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  flex-wrap: wrap;\n  padding-left: 0;\n  font-size: 1.2rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-box-pack: center;\n  -ms-flex-pack: center;\n  justify-content: center;\n}\n.idsk-card-content .idsk-card-content-secondary {\n  min-width: 260px;\n}\nul,\nol {\n  list-style: none;\n}\n.pagination .disabled .page-link {\n  color: #dee0e2;\n}\n.pagination .disabled {\n  pointer-events: none;\n}\n.pagination .page-item .page-link:hover {\n  background: #dee0e2;\n  color: #204e2e;\n}\n\n/* .pagination .page-item .page-link:hover,\n.pagination .page-item .page-link:active {\n  background: #dee0e2;\n  color: black;\n} */\n.pagination .page-item {\n  margin-top: 0.5rem;\n  margin-right: 0.5rem;\n  -webkit-box-align: center;\n  -ms-flex-align: center;\n  align-items: center;\n}\n.pagination .page-item .page-link {\n  position: relative;\n  display: block;\n  color: #204e2e;\n  text-decoration: none;\n  background-color: #fff;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.pagination .page-item .activated {\n  position: relative;\n  display: block;\n  color: #fff;\n  text-decoration: none;\n  background-color: #204e2e;\n  border: 1px solid #dee0e2;\n  -webkit-transition: color 0.15s ease-in-out,\n    background-color 0.15s ease-in-out, border-color 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, -webkit-box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out,\n    border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out,\n    -webkit-box-shadow 0.15s ease-in-out;\n  padding: 0.375rem 0.75rem;\n}\n.hero-img {\n  height: 250px;\n}\n.item-img {\n  height: 200px;\n}\n.height-grid {\n  height: 400px;\n}\n@media (max-width: 960px) {\n  .hero-img {\n    height: 200px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n@media (min-width: 960px) {\n  .hero-img {\n    height: 300px;\n  }\n  .item-img {\n    height: 200px;\n  }\n  .height-grid {\n    height: 410px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}