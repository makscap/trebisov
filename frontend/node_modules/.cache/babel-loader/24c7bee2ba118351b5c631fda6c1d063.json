{"ast":null,"code":"import \"core-js/modules/es.function.bind.js\";\n/**\n * JavaScript 'polyfill' for HTML5's <details> and <summary> elements\n * and 'shim' to add accessiblity enhancements for all browsers\n *\n * http://caniuse.com/#feat=details\n */\nimport '../../vendor/polyfills/Function/prototype/bind';\nimport '../../vendor/polyfills/Event'; // addEventListener and event.target normaliziation\nimport { generateUniqueID } from '../../common.js';\nvar KEY_ENTER = 13;\nvar KEY_SPACE = 32;\n\n// Create a flag to know if the browser supports navtive details\nvar NATIVE_DETAILS = typeof document.createElement('details').open === 'boolean';\nfunction Details($module) {\n  this.$module = $module;\n}\n\n/**\n* Handle cross-modal click events\n* @param {object} node element\n* @param {function} callback function\n*/\nDetails.prototype.handleInputs = function (node, callback) {\n  node.addEventListener('keypress', function (event) {\n    var target = event.target;\n    // When the key gets pressed - check if it is enter or space\n    if (event.keyCode === KEY_ENTER || event.keyCode === KEY_SPACE) {\n      if (target.nodeName.toLowerCase() === 'summary') {\n        // Prevent space from scrolling the page\n        // and enter from submitting a form\n        event.preventDefault();\n        // Click to let the click event do all the necessary action\n        if (target.click) {\n          target.click();\n        } else {\n          // except Safari 5.1 and under don't support .click() here\n          callback(event);\n        }\n      }\n    }\n  });\n\n  // Prevent keyup to prevent clicking twice in Firefox when using space key\n  node.addEventListener('keyup', function (event) {\n    var target = event.target;\n    if (event.keyCode === KEY_SPACE) {\n      if (target.nodeName.toLowerCase() === 'summary') {\n        event.preventDefault();\n      }\n    }\n  });\n  node.addEventListener('click', callback);\n};\nDetails.prototype.init = function () {\n  var $module = this.$module;\n  if (!$module) {\n    return;\n  }\n\n  // Save shortcuts to the inner summary and content elements\n  var $summary = this.$summary = $module.getElementsByTagName('summary').item(0);\n  var $content = this.$content = $module.getElementsByTagName('div').item(0);\n\n  // If <details> doesn't have a <summary> and a <div> representing the content\n  // it means the required HTML structure is not met so the script will stop\n  if (!$summary || !$content) {\n    return;\n  }\n\n  // If the content doesn't have an ID, assign it one now\n  // which we'll need for the summary's aria-controls assignment\n  if (!$content.id) {\n    $content.id = 'details-content-' + generateUniqueID();\n  }\n\n  // Add ARIA role=\"group\" to details\n  $module.setAttribute('role', 'group');\n\n  // Add role=button to summary\n  $summary.setAttribute('role', 'button');\n\n  // Add aria-controls\n  $summary.setAttribute('aria-controls', $content.id);\n\n  // Set tabIndex so the summary is keyboard accessible for non-native elements\n  //\n  // We have to use the camelcase `tabIndex` property as there is a bug in IE6/IE7 when we set the correct attribute lowercase:\n  // See http://web.archive.org/web/20170120194036/http://www.saliences.com/browserBugs/tabIndex.html for more information.\n  if (!NATIVE_DETAILS) {\n    $summary.tabIndex = 0;\n  }\n\n  // Detect initial open state\n  var openAttr = $module.getAttribute('open') !== null;\n  if (openAttr === true) {\n    $summary.setAttribute('aria-expanded', 'true');\n    $content.setAttribute('aria-hidden', 'false');\n  } else {\n    $summary.setAttribute('aria-expanded', 'false');\n    $content.setAttribute('aria-hidden', 'true');\n    if (!NATIVE_DETAILS) {\n      $content.style.display = 'none';\n    }\n  }\n\n  // Bind an event to handle summary elements\n  this.handleInputs($summary, this.setAttributes.bind(this));\n};\n\n/**\n* Define a statechange function that updates aria-expanded and style.display\n* @param {object} summary element\n*/\nDetails.prototype.setAttributes = function () {\n  var $module = this.$module;\n  var $summary = this.$summary;\n  var $content = this.$content;\n  var expanded = $summary.getAttribute('aria-expanded') === 'true';\n  var hidden = $content.getAttribute('aria-hidden') === 'true';\n  $summary.setAttribute('aria-expanded', expanded ? 'false' : 'true');\n  $content.setAttribute('aria-hidden', hidden ? 'false' : 'true');\n  if (!NATIVE_DETAILS) {\n    $content.style.display = expanded ? 'none' : '';\n    var hasOpenAttr = $module.getAttribute('open') !== null;\n    if (!hasOpenAttr) {\n      $module.setAttribute('open', 'open');\n    } else {\n      $module.removeAttribute('open');\n    }\n  }\n  return true;\n};\n\n/**\n* Remove the click event from the node element\n* @param {object} node element\n*/\nDetails.prototype.destroy = function (node) {\n  node.removeEventListener('keypress');\n  node.removeEventListener('keyup');\n  node.removeEventListener('click');\n};\nexport default Details;","map":{"version":3,"names":["generateUniqueID","KEY_ENTER","KEY_SPACE","NATIVE_DETAILS","document","createElement","open","Details","$module","prototype","handleInputs","node","callback","addEventListener","event","target","keyCode","nodeName","toLowerCase","preventDefault","click","init","$summary","getElementsByTagName","item","$content","id","setAttribute","tabIndex","openAttr","getAttribute","style","display","setAttributes","bind","expanded","hidden","hasOpenAttr","removeAttribute","destroy","removeEventListener"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/govuk/components/details/details.js"],"sourcesContent":["/**\n * JavaScript 'polyfill' for HTML5's <details> and <summary> elements\n * and 'shim' to add accessiblity enhancements for all browsers\n *\n * http://caniuse.com/#feat=details\n */\nimport '../../vendor/polyfills/Function/prototype/bind'\nimport '../../vendor/polyfills/Event' // addEventListener and event.target normaliziation\nimport { generateUniqueID } from '../../common.js'\n\nvar KEY_ENTER = 13\nvar KEY_SPACE = 32\n\n// Create a flag to know if the browser supports navtive details\nvar NATIVE_DETAILS = typeof document.createElement('details').open === 'boolean'\n\nfunction Details ($module) {\n  this.$module = $module\n}\n\n/**\n* Handle cross-modal click events\n* @param {object} node element\n* @param {function} callback function\n*/\nDetails.prototype.handleInputs = function (node, callback) {\n  node.addEventListener('keypress', function (event) {\n    var target = event.target\n    // When the key gets pressed - check if it is enter or space\n    if (event.keyCode === KEY_ENTER || event.keyCode === KEY_SPACE) {\n      if (target.nodeName.toLowerCase() === 'summary') {\n        // Prevent space from scrolling the page\n        // and enter from submitting a form\n        event.preventDefault()\n        // Click to let the click event do all the necessary action\n        if (target.click) {\n          target.click()\n        } else {\n          // except Safari 5.1 and under don't support .click() here\n          callback(event)\n        }\n      }\n    }\n  })\n\n  // Prevent keyup to prevent clicking twice in Firefox when using space key\n  node.addEventListener('keyup', function (event) {\n    var target = event.target\n    if (event.keyCode === KEY_SPACE) {\n      if (target.nodeName.toLowerCase() === 'summary') {\n        event.preventDefault()\n      }\n    }\n  })\n\n  node.addEventListener('click', callback)\n}\n\nDetails.prototype.init = function () {\n  var $module = this.$module\n\n  if (!$module) {\n    return\n  }\n\n  // Save shortcuts to the inner summary and content elements\n  var $summary = this.$summary = $module.getElementsByTagName('summary').item(0)\n  var $content = this.$content = $module.getElementsByTagName('div').item(0)\n\n  // If <details> doesn't have a <summary> and a <div> representing the content\n  // it means the required HTML structure is not met so the script will stop\n  if (!$summary || !$content) {\n    return\n  }\n\n  // If the content doesn't have an ID, assign it one now\n  // which we'll need for the summary's aria-controls assignment\n  if (!$content.id) {\n    $content.id = 'details-content-' + generateUniqueID()\n  }\n\n  // Add ARIA role=\"group\" to details\n  $module.setAttribute('role', 'group')\n\n  // Add role=button to summary\n  $summary.setAttribute('role', 'button')\n\n  // Add aria-controls\n  $summary.setAttribute('aria-controls', $content.id)\n\n  // Set tabIndex so the summary is keyboard accessible for non-native elements\n  //\n  // We have to use the camelcase `tabIndex` property as there is a bug in IE6/IE7 when we set the correct attribute lowercase:\n  // See http://web.archive.org/web/20170120194036/http://www.saliences.com/browserBugs/tabIndex.html for more information.\n  if (!NATIVE_DETAILS) {\n    $summary.tabIndex = 0\n  }\n\n  // Detect initial open state\n  var openAttr = $module.getAttribute('open') !== null\n  if (openAttr === true) {\n    $summary.setAttribute('aria-expanded', 'true')\n    $content.setAttribute('aria-hidden', 'false')\n  } else {\n    $summary.setAttribute('aria-expanded', 'false')\n    $content.setAttribute('aria-hidden', 'true')\n    if (!NATIVE_DETAILS) {\n      $content.style.display = 'none'\n    }\n  }\n\n  // Bind an event to handle summary elements\n  this.handleInputs($summary, this.setAttributes.bind(this))\n}\n\n/**\n* Define a statechange function that updates aria-expanded and style.display\n* @param {object} summary element\n*/\nDetails.prototype.setAttributes = function () {\n  var $module = this.$module\n  var $summary = this.$summary\n  var $content = this.$content\n\n  var expanded = $summary.getAttribute('aria-expanded') === 'true'\n  var hidden = $content.getAttribute('aria-hidden') === 'true'\n\n  $summary.setAttribute('aria-expanded', (expanded ? 'false' : 'true'))\n  $content.setAttribute('aria-hidden', (hidden ? 'false' : 'true'))\n\n  if (!NATIVE_DETAILS) {\n    $content.style.display = (expanded ? 'none' : '')\n\n    var hasOpenAttr = $module.getAttribute('open') !== null\n    if (!hasOpenAttr) {\n      $module.setAttribute('open', 'open')\n    } else {\n      $module.removeAttribute('open')\n    }\n  }\n  return true\n}\n\n/**\n* Remove the click event from the node element\n* @param {object} node element\n*/\nDetails.prototype.destroy = function (node) {\n  node.removeEventListener('keypress')\n  node.removeEventListener('keyup')\n  node.removeEventListener('click')\n}\n\nexport default Details\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}