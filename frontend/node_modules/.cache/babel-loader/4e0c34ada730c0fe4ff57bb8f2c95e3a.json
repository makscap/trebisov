{"ast":null,"code":"import \"core-js/modules/es.function.bind.js\";\nimport '../../../govuk/vendor/polyfills/Function/prototype/bind';\nimport '../../../govuk/vendor/polyfills/Event'; // addEventListener and event.target normalization\n\nfunction InteractiveMap($module) {\n  this.$module = $module;\n  this.$currentData = null;\n  this.$currentMode = '';\n}\nInteractiveMap.prototype.init = function () {\n  // Check for module\n  var $module = this.$module;\n  if (!$module) {\n    return;\n  }\n  var $radioMap = $module.querySelector('.idsk-intereactive-map__radio-map');\n  if ($radioMap) {\n    $radioMap.addEventListener('click', this.handleRadioButtonModeClick.bind(this, 'map'));\n  }\n  var $radioTable = $module.querySelector('.idsk-intereactive-map__radio-table');\n  if ($radioTable) {\n    $radioTable.addEventListener('click', this.handleRadioButtonModeClick.bind(this, 'table'));\n  }\n  var $selectTimePeriod = $module.querySelector('.idsk-interactive-map__select-time-period');\n  if ($selectTimePeriod) {\n    $selectTimePeriod.addEventListener('change', this.renderData.bind(this));\n  }\n  var $selectIndicator = $module.querySelector('.idsk-interactive-map__select-indicator');\n  if ($selectIndicator) {\n    $selectIndicator.addEventListener('change', this.renderData.bind(this));\n  }\n  var $radioBtn = $module.querySelector('.govuk-radios__input');\n  var $radiosName = $radioBtn.getAttribute('name');\n  var $selectedControlOption = $module.querySelector('input[name=\"' + $radiosName + '\"]:checked').value;\n  this.handleRadioButtonModeClick($selectedControlOption);\n  this.renderData();\n};\nInteractiveMap.prototype.handleRadioButtonModeClick = function (type) {\n  var $type = type;\n  var $module = this.$module;\n  if (this.$currentMode === $type) {\n    return;\n  }\n  this.$currentMode = $type;\n  if ($type === 'table') {\n    $module.querySelector('.idsk-interactive-map__table').style.display = 'block';\n    $module.querySelector('.idsk-interactive-map__map').style.display = 'none';\n  } else if ($type === 'map') {\n    $module.querySelector('.idsk-interactive-map__map').style.display = 'block';\n    $module.querySelector('.idsk-interactive-map__table').style.display = 'none';\n    $module.querySelector('.idsk-interactive-map__map-iframe').src += \"\"; // reload content - reset map boundaries\n  }\n};\n\nInteractiveMap.prototype.renderData = function () {\n  var $module = this.$module;\n  var $tableEl = $module.querySelector('.idsk-interactive-map__table-iframe');\n  var $tableSrc = $tableEl.dataset.src;\n  var $mapEl = $module.querySelector('.idsk-interactive-map__map-iframe');\n  var $mapSrc = $mapEl.dataset.src;\n  var $timePeriodSelect = $module.querySelector('.idsk-interactive-map__select-time-period');\n  var $timePeriodValue = $timePeriodSelect.options[$timePeriodSelect.selectedIndex].value;\n  var $timePeriod = $timePeriodSelect.options[$timePeriodSelect.selectedIndex].text;\n  var $indicatorSelect = $module.querySelector('.idsk-interactive-map__select-indicator');\n  if ($indicatorSelect) {\n    var $indicatorValue = $indicatorSelect.options[$indicatorSelect.selectedIndex].value;\n    var $indicatorText = $indicatorSelect.options[$indicatorSelect.selectedIndex].text;\n    $module.querySelector('.idsk-interactive-map__current-indicator').innerText = $indicatorText;\n    $module.querySelector('.idsk-interactive-map__current-time-period').innerText = $timePeriod;\n  }\n  $mapEl.src = $mapSrc + '?indicator=' + $indicatorValue + '&time=' + $timePeriodValue;\n  $tableEl.src = $tableSrc + '?indicator=' + $indicatorValue + '&time=' + $timePeriodValue;\n};\nexport default InteractiveMap;","map":{"version":3,"names":["InteractiveMap","$module","$currentData","$currentMode","prototype","init","$radioMap","querySelector","addEventListener","handleRadioButtonModeClick","bind","$radioTable","$selectTimePeriod","renderData","$selectIndicator","$radioBtn","$radiosName","getAttribute","$selectedControlOption","value","type","$type","style","display","src","$tableEl","$tableSrc","dataset","$mapEl","$mapSrc","$timePeriodSelect","$timePeriodValue","options","selectedIndex","$timePeriod","text","$indicatorSelect","$indicatorValue","$indicatorText","innerText"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/interactive-map/interactive-map.js"],"sourcesContent":["import '../../../govuk/vendor/polyfills/Function/prototype/bind'\nimport '../../../govuk/vendor/polyfills/Event' // addEventListener and event.target normalization\n\nfunction InteractiveMap($module) {\n    this.$module = $module\n    this.$currentData = null;\n    this.$currentMode = '';\n}\n\nInteractiveMap.prototype.init = function () {\n    // Check for module\n    var $module = this.$module\n    if (!$module) {\n        return\n    }\n\n    var $radioMap = $module.querySelector('.idsk-intereactive-map__radio-map')\n    if ($radioMap) {\n        $radioMap.addEventListener('click', this.handleRadioButtonModeClick.bind(this, 'map'))\n    }\n\n    var $radioTable = $module.querySelector('.idsk-intereactive-map__radio-table')\n    if ($radioTable) {\n        $radioTable.addEventListener('click', this.handleRadioButtonModeClick.bind(this, 'table'))\n    }\n\n    var $selectTimePeriod = $module.querySelector('.idsk-interactive-map__select-time-period')\n    if ($selectTimePeriod) {\n        $selectTimePeriod.addEventListener('change', this.renderData.bind(this))\n    }\n\n    var $selectIndicator = $module.querySelector('.idsk-interactive-map__select-indicator')\n    if ($selectIndicator) {\n        $selectIndicator.addEventListener('change', this.renderData.bind(this))\n    }\n\n    var $radioBtn = $module.querySelector('.govuk-radios__input')\n    var $radiosName = $radioBtn.getAttribute('name')\n    var $selectedControlOption = $module.querySelector('input[name=\"' + $radiosName + '\"]:checked').value\n    this.handleRadioButtonModeClick($selectedControlOption)\n    this.renderData()\n}\n\nInteractiveMap.prototype.handleRadioButtonModeClick = function (type) {\n\n    var $type = type;\n    var $module = this.$module;\n\n    if (this.$currentMode === $type) {\n        return;\n    }\n\n    this.$currentMode = $type;\n\n    if ($type === 'table') {\n        $module.querySelector('.idsk-interactive-map__table').style.display = 'block';\n        $module.querySelector('.idsk-interactive-map__map').style.display = 'none';\n    } else if ($type === 'map') {\n        $module.querySelector('.idsk-interactive-map__map').style.display = 'block';\n        $module.querySelector('.idsk-interactive-map__table').style.display = 'none';\n        $module.querySelector('.idsk-interactive-map__map-iframe').src += \"\"; // reload content - reset map boundaries\n    }\n}\n\nInteractiveMap.prototype.renderData = function () {\n    var $module = this.$module\n    var $tableEl = $module.querySelector('.idsk-interactive-map__table-iframe')\n    var $tableSrc = $tableEl.dataset.src\n    var $mapEl = $module.querySelector('.idsk-interactive-map__map-iframe')\n    var $mapSrc = $mapEl.dataset.src\n    var $timePeriodSelect = $module.querySelector('.idsk-interactive-map__select-time-period')\n    var $timePeriodValue = $timePeriodSelect.options[$timePeriodSelect.selectedIndex].value;\n    var $timePeriod = $timePeriodSelect.options[$timePeriodSelect.selectedIndex].text;\n    var $indicatorSelect = $module.querySelector('.idsk-interactive-map__select-indicator')\n\n    if ($indicatorSelect) {\n        var $indicatorValue = $indicatorSelect.options[$indicatorSelect.selectedIndex].value;\n        var $indicatorText = $indicatorSelect.options[$indicatorSelect.selectedIndex].text;\n\n        $module.querySelector('.idsk-interactive-map__current-indicator').innerText = $indicatorText\n        $module.querySelector('.idsk-interactive-map__current-time-period').innerText = $timePeriod\n    }\n\n    $mapEl.src = $mapSrc + '?indicator=' + $indicatorValue + '&time=' + $timePeriodValue\n    $tableEl.src = $tableSrc + '?indicator=' + $indicatorValue + '&time=' + $timePeriodValue\n}\n\nexport default InteractiveMap\n"],"mappings":";AAAA,OAAO,yDAAyD;AAChE,OAAO,uCAAuC,EAAC;;AAE/C,SAASA,cAAc,CAACC,OAAO,EAAE;EAC7B,IAAI,CAACA,OAAO,GAAGA,OAAO;EACtB,IAAI,CAACC,YAAY,GAAG,IAAI;EACxB,IAAI,CAACC,YAAY,GAAG,EAAE;AAC1B;AAEAH,cAAc,CAACI,SAAS,CAACC,IAAI,GAAG,YAAY;EACxC;EACA,IAAIJ,OAAO,GAAG,IAAI,CAACA,OAAO;EAC1B,IAAI,CAACA,OAAO,EAAE;IACV;EACJ;EAEA,IAAIK,SAAS,GAAGL,OAAO,CAACM,aAAa,CAAC,mCAAmC,CAAC;EAC1E,IAAID,SAAS,EAAE;IACXA,SAAS,CAACE,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACC,0BAA0B,CAACC,IAAI,CAAC,IAAI,EAAE,KAAK,CAAC,CAAC;EAC1F;EAEA,IAAIC,WAAW,GAAGV,OAAO,CAACM,aAAa,CAAC,qCAAqC,CAAC;EAC9E,IAAII,WAAW,EAAE;IACbA,WAAW,CAACH,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAACC,0BAA0B,CAACC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;EAC9F;EAEA,IAAIE,iBAAiB,GAAGX,OAAO,CAACM,aAAa,CAAC,2CAA2C,CAAC;EAC1F,IAAIK,iBAAiB,EAAE;IACnBA,iBAAiB,CAACJ,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACK,UAAU,CAACH,IAAI,CAAC,IAAI,CAAC,CAAC;EAC5E;EAEA,IAAII,gBAAgB,GAAGb,OAAO,CAACM,aAAa,CAAC,yCAAyC,CAAC;EACvF,IAAIO,gBAAgB,EAAE;IAClBA,gBAAgB,CAACN,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAACK,UAAU,CAACH,IAAI,CAAC,IAAI,CAAC,CAAC;EAC3E;EAEA,IAAIK,SAAS,GAAGd,OAAO,CAACM,aAAa,CAAC,sBAAsB,CAAC;EAC7D,IAAIS,WAAW,GAAGD,SAAS,CAACE,YAAY,CAAC,MAAM,CAAC;EAChD,IAAIC,sBAAsB,GAAGjB,OAAO,CAACM,aAAa,CAAC,cAAc,GAAGS,WAAW,GAAG,YAAY,CAAC,CAACG,KAAK;EACrG,IAAI,CAACV,0BAA0B,CAACS,sBAAsB,CAAC;EACvD,IAAI,CAACL,UAAU,EAAE;AACrB,CAAC;AAEDb,cAAc,CAACI,SAAS,CAACK,0BAA0B,GAAG,UAAUW,IAAI,EAAE;EAElE,IAAIC,KAAK,GAAGD,IAAI;EAChB,IAAInB,OAAO,GAAG,IAAI,CAACA,OAAO;EAE1B,IAAI,IAAI,CAACE,YAAY,KAAKkB,KAAK,EAAE;IAC7B;EACJ;EAEA,IAAI,CAAClB,YAAY,GAAGkB,KAAK;EAEzB,IAAIA,KAAK,KAAK,OAAO,EAAE;IACnBpB,OAAO,CAACM,aAAa,CAAC,8BAA8B,CAAC,CAACe,KAAK,CAACC,OAAO,GAAG,OAAO;IAC7EtB,OAAO,CAACM,aAAa,CAAC,4BAA4B,CAAC,CAACe,KAAK,CAACC,OAAO,GAAG,MAAM;EAC9E,CAAC,MAAM,IAAIF,KAAK,KAAK,KAAK,EAAE;IACxBpB,OAAO,CAACM,aAAa,CAAC,4BAA4B,CAAC,CAACe,KAAK,CAACC,OAAO,GAAG,OAAO;IAC3EtB,OAAO,CAACM,aAAa,CAAC,8BAA8B,CAAC,CAACe,KAAK,CAACC,OAAO,GAAG,MAAM;IAC5EtB,OAAO,CAACM,aAAa,CAAC,mCAAmC,CAAC,CAACiB,GAAG,IAAI,EAAE,CAAC,CAAC;EAC1E;AACJ,CAAC;;AAEDxB,cAAc,CAACI,SAAS,CAACS,UAAU,GAAG,YAAY;EAC9C,IAAIZ,OAAO,GAAG,IAAI,CAACA,OAAO;EAC1B,IAAIwB,QAAQ,GAAGxB,OAAO,CAACM,aAAa,CAAC,qCAAqC,CAAC;EAC3E,IAAImB,SAAS,GAAGD,QAAQ,CAACE,OAAO,CAACH,GAAG;EACpC,IAAII,MAAM,GAAG3B,OAAO,CAACM,aAAa,CAAC,mCAAmC,CAAC;EACvE,IAAIsB,OAAO,GAAGD,MAAM,CAACD,OAAO,CAACH,GAAG;EAChC,IAAIM,iBAAiB,GAAG7B,OAAO,CAACM,aAAa,CAAC,2CAA2C,CAAC;EAC1F,IAAIwB,gBAAgB,GAAGD,iBAAiB,CAACE,OAAO,CAACF,iBAAiB,CAACG,aAAa,CAAC,CAACd,KAAK;EACvF,IAAIe,WAAW,GAAGJ,iBAAiB,CAACE,OAAO,CAACF,iBAAiB,CAACG,aAAa,CAAC,CAACE,IAAI;EACjF,IAAIC,gBAAgB,GAAGnC,OAAO,CAACM,aAAa,CAAC,yCAAyC,CAAC;EAEvF,IAAI6B,gBAAgB,EAAE;IAClB,IAAIC,eAAe,GAAGD,gBAAgB,CAACJ,OAAO,CAACI,gBAAgB,CAACH,aAAa,CAAC,CAACd,KAAK;IACpF,IAAImB,cAAc,GAAGF,gBAAgB,CAACJ,OAAO,CAACI,gBAAgB,CAACH,aAAa,CAAC,CAACE,IAAI;IAElFlC,OAAO,CAACM,aAAa,CAAC,0CAA0C,CAAC,CAACgC,SAAS,GAAGD,cAAc;IAC5FrC,OAAO,CAACM,aAAa,CAAC,4CAA4C,CAAC,CAACgC,SAAS,GAAGL,WAAW;EAC/F;EAEAN,MAAM,CAACJ,GAAG,GAAGK,OAAO,GAAG,aAAa,GAAGQ,eAAe,GAAG,QAAQ,GAAGN,gBAAgB;EACpFN,QAAQ,CAACD,GAAG,GAAGE,SAAS,GAAG,aAAa,GAAGW,eAAe,GAAG,QAAQ,GAAGN,gBAAgB;AAC5F,CAAC;AAED,eAAe/B,cAAc"},"metadata":{},"sourceType":"module"}