{"ast":null,"code":"import _regeneratorRuntime from \"/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport \"core-js/modules/es.array.find.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.array.slice.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.array.sort.js\";\nimport \"core-js/modules/es.string.pad-start.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport \"core-js/modules/es.array.join.js\";\nimport \"core-js/modules/es.regexp.exec.js\";\nimport \"core-js/modules/es.string.replace.js\";\nimport \"core-js/modules/es.string.replace-all.js\";\nimport \"core-js/modules/es.array.concat.js\";\nimport Markdown from \"vue3-markdown-it\";\nimport LoadingSpin from \"@/components/Loader\";\n// import ArticleGallerySlider from \"@/components/ArticleGallerySlider\";\nimport { useMeta } from \"vue-meta\";\nexport default {\n  data: function data() {\n    return {\n      articleId: -1,\n      article: \"\",\n      similarArticles: [],\n      loaded: false,\n      pathname: \"\",\n      types: [{\n        slug: \"aktivity\",\n        value: \"Aktivity\"\n      }, {\n        slug: \"chodci\",\n        value: \"Chodci\"\n      }, {\n        slug: \"cyklisti\",\n        value: \"Cyklisti\"\n      }, {\n        slug: \"deti\",\n        value: \"Deti\"\n      }, {\n        slug: \"mladi-vodici\",\n        value: \"Mladí vodiči\"\n      }, {\n        slug: \"motocyklisti\",\n        value: \"Motocyklisti\"\n      }, {\n        slug: \"profesionali\",\n        value: \"Profesionáli\"\n      }, {\n        slug: \"seniori\",\n        value: \"Seniori\"\n      }, {\n        slug: \"vizia-nula\",\n        value: \"Vízia nula\"\n      }, {\n        slug: \"vodici\",\n        value: \"Vodiči\"\n      }]\n    };\n  },\n  props: {\n    title: String\n  },\n  setup: function setup() {\n    useMeta({\n      title: \"Aktualita\",\n      htmlAttrs: {\n        lang: \"sk\",\n        amp: true\n      },\n      meta: [{\n        charset: \"utf-8\"\n      }, {\n        name: \"description\",\n        content: \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\"\n      }, {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1\"\n      }]\n    });\n  },\n  components: {\n    Markdown: Markdown,\n    LoadingSpin: LoadingSpin\n    // ArticleGallerySlider,\n  },\n  beforeMount: function beforeMount() {\n    this.articleId = this.$route.query.id;\n    this.getCategories();\n    this.getArticle();\n  },\n  mounted: function mounted() {\n    console.log(window.location.origin + window.location.pathname);\n    this.pathname = window.location.origin + window.location.pathname;\n  },\n  methods: {\n    getArticle: function getArticle() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var res, jsonData;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(process.env.VUE_APP_API_URL + \"/articles/\".concat(_this.articleId, \"/?populate=deep\"));\n              case 2:\n                res = _context.sent;\n                _context.next = 5;\n                return res.json();\n              case 5:\n                jsonData = _context.sent;\n                _this.article = jsonData.data.attributes;\n                if (_this.article.photoGallery.length !== 0) _this.photos = _this.article.photoGallery[0].images.data;\n                _this.loaded = true;\n                _context.next = 11;\n                return _this.getSimilarArticles();\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }))();\n    },\n    getCategories: function getCategories() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var res, jsonData;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return fetch(process.env.VUE_APP_API_URL + \"/categories\");\n              case 2:\n                res = _context2.sent;\n                _context2.next = 5;\n                return res.json();\n              case 5:\n                jsonData = _context2.sent;\n                _this2.types = _this2.types.map(function (type) {\n                  var data = jsonData.data.find(function (d) {\n                    return d.attributes.name === type.value;\n                  });\n                  return {\n                    slug: type.slug,\n                    value: type.value,\n                    id: data.id\n                  };\n                });\n              case 7:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }))();\n    },\n    getSimilarArticles: function getSimilarArticles() {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var res, jsonData, filter;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return fetch(process.env.VUE_APP_API_URL + \"/articles/?populate[0]=categories&populate[1]=titleImage&populate[2]=photoGallery.images&sort[0]=datetime%3Adesc\");\n              case 2:\n                res = _context3.sent;\n                _context3.next = 5;\n                return res.json();\n              case 5:\n                jsonData = _context3.sent;\n                filter = jsonData.data.sort(function (a, b) {\n                  return b.id - a.id;\n                }).filter(function (e) {\n                  return e.id !== _this3.articleId;\n                }).slice(0, 2);\n                if (filter) _this3.similarArticles = filter;\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }))();\n    },\n    padTo2Digits: function padTo2Digits(num) {\n      return num.toString().padStart(2, \"0\");\n    },\n    formatDate: function formatDate(date) {\n      return [this.padTo2Digits(date.getDate()), this.padTo2Digits(date.getMonth() + 1), date.getFullYear()].join(\".\");\n    },\n    toNormalForm: function toNormalForm(str) {\n      return str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").replaceAll(\" \", \"-\").toLowerCase().substring(0, 30) + \"...\";\n    },\n    getCrazyUrl: function getCrazyUrl(article) {\n      var _this$types$find;\n      return \"/aktuality/\".concat((_this$types$find = this.types.find(function (t) {\n        return t.id === article.attributes.categories.data[0].id;\n      })) === null || _this$types$find === void 0 ? void 0 : _this$types$find.slug, \"?id=\").concat(article.id, \"&name=\").concat(this.toNormalForm(article.attributes.name));\n    },\n    printLog: function printLog(value) {\n      console.log(\"log\", value);\n    }\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function handler(val, oldVal) {\n        this.loaded = false;\n        this.articleId = this.$route.query.id;\n        this.getCategories();\n        this.getArticle();\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"mappings":"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","names":["Markdown","LoadingSpin","useMeta","data","articleId","article","similarArticles","loaded","pathname","types","slug","value","props","title","String","setup","htmlAttrs","lang","amp","meta","charset","name","content","components","beforeMount","$route","query","id","getCategories","getArticle","mounted","console","log","window","location","origin","methods","fetch","process","env","VUE_APP_API_URL","res","json","jsonData","attributes","photoGallery","length","photos","images","getSimilarArticles","map","type","find","d","filter","sort","a","b","e","slice","padTo2Digits","num","toString","padStart","formatDate","date","getDate","getMonth","getFullYear","join","toNormalForm","str","normalize","replace","replaceAll","toLowerCase","substring","getCrazyUrl","t","categories","printLog","watch","handler","val","oldVal","deep"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/views/ArticleView.vue"],"sourcesContent":["<template>\n  <div class=\"govuk-width-container\">\n    <LoadingSpin v-if=\"!loaded\"></LoadingSpin>\n    <div v-else style=\"padding-bottom: 50px\">\n      <span class=\"govuk-caption-xl idsk-article-pattern__subtitle\">{{\n        title\n      }}</span>\n      <h1 class=\"govuk-heading-l\">{{ article.name }}</h1>\n      <p class=\"govuk-body-s idsk-article-pattern__text-silver--down\">\n        Publikované {{ formatDate(new Date(article.publishedAt)) }}\n      </p>\n      <hr class=\"idsk-crossroad-line\" aria-hidden=\"true\" />\n      <Markdown :source=\"article.body\" :html=\"true\" class=\"markdown\" />\n      <!-- <ArticleGallerySlider\n        v-if=\"\n          article.photoGallery[0] &&\n          article.photoGallery[0].images.data.length > 0\n        \"\n        :images=\"\n          article.photoGallery[0] &&\n          article.photoGallery[0].images.data.length > 0\n            ? article.photoGallery[0].images.data\n            : []\n        \"\n      ></ArticleGallerySlider> -->\n\n      <!--      <h3 class=\"govuk-heading-s black\">Zdieľať tento článok:</h3>-->\n      <!--      <div-->\n      <!--        class=\"ss-box\"-->\n      <!--        data-ss-social=\"facebook\"-->\n      <!--        v-if=\"pathname\"-->\n      <!--        :data-ss-link=\"pathname\"-->\n      <!--      ></div>-->\n      <!--      <hr-->\n      <!--        class=\"idsk-crossroad-line\"-->\n      <!--        style=\"background-color: black\"-->\n      <!--        aria-hidden=\"true\"-->\n      <!--      />-->\n      <h3 class=\"govuk-heading-s black\">Súvisiace témy:</h3>\n      <div v-for=\"(similar, index) in similarArticles\" :key=\"index\">\n        <router-link :to=\"getCrazyUrl(similar)\" class=\"govuk-link-custom\">\n          {{ similar.attributes.name }}\n        </router-link>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Markdown from \"vue3-markdown-it\";\nimport LoadingSpin from \"@/components/Loader\";\n// import ArticleGallerySlider from \"@/components/ArticleGallerySlider\";\nimport { useMeta } from \"vue-meta\";\n\nexport default {\n  data() {\n    return {\n      articleId: -1,\n      article: \"\",\n      similarArticles: [],\n      loaded: false,\n      pathname: \"\",\n      types: [\n        { slug: \"aktivity\", value: \"Aktivity\" },\n        { slug: \"chodci\", value: \"Chodci\" },\n        { slug: \"cyklisti\", value: \"Cyklisti\" },\n        { slug: \"deti\", value: \"Deti\" },\n        { slug: \"mladi-vodici\", value: \"Mladí vodiči\" },\n        { slug: \"motocyklisti\", value: \"Motocyklisti\" },\n        { slug: \"profesionali\", value: \"Profesionáli\" },\n        { slug: \"seniori\", value: \"Seniori\" },\n        { slug: \"vizia-nula\", value: \"Vízia nula\" },\n        { slug: \"vodici\", value: \"Vodiči\" },\n      ],\n    };\n  },\n  props: {\n    title: String,\n  },\n  setup() {\n    useMeta({\n      title: \"Aktualita\",\n      htmlAttrs: { lang: \"sk\", amp: true },\n      meta: [\n        { charset: \"utf-8\" },\n        {\n          name: \"description\",\n          content:\n            \"Národný kooridnátor pre zvyšovanie bezpečnosti cestnej premávky\",\n        },\n        {\n          name: \"viewport\",\n          content: \"width=device-width, initial-scale=1\",\n        },\n      ],\n    });\n  },\n  components: {\n    Markdown,\n    LoadingSpin,\n    // ArticleGallerySlider,\n  },\n  beforeMount() {\n    this.articleId = this.$route.query.id;\n    this.getCategories();\n    this.getArticle();\n  },\n  mounted() {\n    console.log(window.location.origin + window.location.pathname);\n    this.pathname = window.location.origin + window.location.pathname;\n  },\n  methods: {\n    async getArticle() {\n      const res = await fetch(\n        process.env.VUE_APP_API_URL +\n          `/articles/${this.articleId}/?populate=deep`\n      );\n      const jsonData = await res.json();\n      this.article = jsonData.data.attributes;\n      if (this.article.photoGallery.length !== 0)\n        this.photos = this.article.photoGallery[0].images.data;\n      this.loaded = true;\n      await this.getSimilarArticles();\n    },\n    async getCategories() {\n      // console.log(\"toto su typy before\", this.types);\n      const res = await fetch(process.env.VUE_APP_API_URL + `/categories`);\n      const jsonData = await res.json();\n      this.types = this.types.map((type) => {\n        const data = jsonData.data.find((d) => {\n          return d.attributes.name === type.value;\n        });\n        return { slug: type.slug, value: type.value, id: data.id };\n      });\n    },\n    async getSimilarArticles() {\n      const res = await fetch(\n        process.env.VUE_APP_API_URL +\n          \"/articles/?populate[0]=categories&populate[1]=titleImage&populate[2]=photoGallery.images&sort[0]=datetime%3Adesc\"\n      );\n      const jsonData = await res.json();\n      const filter = jsonData.data\n        .sort((a, b) => b.id - a.id)\n        .filter((e) => e.id !== this.articleId)\n        .slice(0, 2);\n      if (filter) this.similarArticles = filter;\n    },\n    padTo2Digits(num) {\n      return num.toString().padStart(2, \"0\");\n    },\n    formatDate(date) {\n      return [\n        this.padTo2Digits(date.getDate()),\n        this.padTo2Digits(date.getMonth() + 1),\n        date.getFullYear(),\n      ].join(\".\");\n    },\n    toNormalForm(str) {\n      return (\n        str\n          .normalize(\"NFD\")\n          .replace(/[\\u0300-\\u036f]/g, \"\")\n          .replaceAll(\" \", \"-\")\n          .toLowerCase()\n          .substring(0, 30) + \"...\"\n      );\n    },\n    getCrazyUrl(article) {\n      return `/aktuality/${\n        this.types.find(\n          (t) => t.id === article.attributes.categories.data[0].id\n        )?.slug\n      }?id=${article.id}&name=${this.toNormalForm(article.attributes.name)}`;\n    },\n    printLog(value) {\n      console.log(\"log\", value);\n    },\n  },\n  watch: {\n    $route: {\n      // eslint-disable-next-line no-unused-vars\n      handler: function (val, oldVal) {\n        this.loaded = false;\n        this.articleId = this.$route.query.id;\n        this.getCategories();\n        this.getArticle();\n      },\n      deep: true,\n    },\n  },\n};\n</script>\n\n<style>\n.markdown img {\n  width: 100% !important;\n  object-fit: contain !important;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}