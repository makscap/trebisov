{"ast":null,"code":"import \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/es.error.to-string.js\";\nimport \"core-js/modules/es.date.to-string.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.regexp.to-string.js\";\nimport '../../../govuk/vendor/polyfills/Function/prototype/bind';\nimport '../../../govuk/vendor/polyfills/Event'; // addEventListener and event.target normalization\nimport { nodeListForEach, toggleClass } from '../../common';\n\n/**\n * Header for extended websites\n */\nfunction HeaderExtended($module) {\n  this.$module = $module;\n  this.$lastMenuElement = '';\n  this.$firstMenuElement = '';\n}\nHeaderExtended.prototype.init = function () {\n  var $module = this.$module;\n  // check for module\n  if (!$module) {\n    return;\n  }\n\n  // check for search component\n  var $searchComponents = $module.querySelectorAll('.idsk-header-extended__search');\n  if ($searchComponents) {\n    nodeListForEach($searchComponents, function ($searchComponent) {\n      $searchComponent.addEventListener('change', this.handleSearchChange.bind(this));\n      // trigger change event\n      $searchComponent.dispatchEvent(new Event('change'));\n    }.bind(this));\n  }\n\n  // check for language switcher\n  var $toggleLanguageSwitchers = $module.querySelectorAll('.idsk-header-extended__language-button');\n  if ($toggleLanguageSwitchers) {\n    // Handle $toggleLanguageSwitcher click events\n    nodeListForEach($toggleLanguageSwitchers, function ($toggleLanguageSwitcher) {\n      $toggleLanguageSwitcher.addEventListener('click', this.handleLanguageSwitcherClick.bind(this));\n      $toggleLanguageSwitcher.addEventListener('focus', this.handleLanguageSwitcherClick.bind(this));\n    }.bind(this));\n\n    // close language list if i left the last item from langauge list e.g. if user use tab key for navigations\n    var $lastLanguageItems = $module.querySelectorAll('.idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link');\n    nodeListForEach($lastLanguageItems, function ($lastLanguageItem) {\n      $lastLanguageItem.addEventListener('blur', this.checkBlurLanguageSwitcherClick.bind(this));\n    }.bind(this));\n  }\n\n  // check for menu items\n  var $menuItems = $module.querySelectorAll('.idsk-header-extended__link');\n  if ($menuItems) {\n    // Handle $menuItem click events\n    nodeListForEach($menuItems, function ($menuItem) {\n      $menuItem.addEventListener('click', this.handleSubmenuClick.bind(this));\n      $menuItem.addEventListener('focus', this.handleSubmenuClick.bind(this));\n    }.bind(this));\n  }\n\n  // check for menu button and close menu button\n  var $hamburgerMenuButton = $module.querySelector('.idsk-js-header-extended-side-menu');\n  var $closeMenuButton = $module.querySelector('.idsk-header-extended__mobile-close');\n  if ($hamburgerMenuButton && $closeMenuButton) {\n    this.initMobileMenuTabbing();\n    $hamburgerMenuButton.addEventListener('click', this.showMobileMenu.bind(this));\n    $closeMenuButton.addEventListener('click', this.hideMobileMenu.bind(this));\n  }\n  window.addEventListener('scroll', this.scrollFunction.bind(this));\n  $module.boundCheckBlurMenuItemClick = this.checkBlurMenuItemClick.bind(this);\n  $module.boundCheckBlurLanguageSwitcherClick = this.checkBlurLanguageSwitcherClick.bind(this);\n\n  // check for cookies\n\n  if (!window.localStorage.getItem('acceptedCookieBanner')) {\n    $module.classList.add('idsk-header-extended--cookie');\n    var $cookieBanner = document.querySelector('.idsk-cookie-banner');\n    if ($cookieBanner) {\n      // scroll handler\n      window.addEventListener('scroll', function () {\n        var headerPosition = document.body.getBoundingClientRect().top;\n        var cookieBannerHeight = $cookieBanner.offsetHeight;\n        if (headerPosition < -cookieBannerHeight) {\n          $module.classList.remove('idsk-header-extended--cookie');\n          $module.style.top = '0px';\n        } else {\n          $module.classList.add('idsk-header-extended--cookie');\n          $module.style.top = cookieBannerHeight.toString() + 'px';\n        }\n      });\n\n      // cookie resize handler\n      var resizeObserver = new ResizeObserver(function () {\n        $module.style.top = $cookieBanner.offsetHeight.toString() + 'px';\n      });\n      resizeObserver.observe($cookieBanner);\n    }\n  }\n};\n\n/**\n * Hide label if search input is not empty\n * @param {object} e\n */\nHeaderExtended.prototype.handleSearchChange = function (e) {\n  var $searchInput = e.target || e.srcElement;\n  var $search = $searchInput.closest('.idsk-header-extended__search');\n  var $searchLabel = $search.querySelector('label');\n  if ($searchInput.value) {\n    $searchLabel.classList.add('idsk-header-extended__search-input--focus');\n  } else {\n    $searchLabel.classList.remove('idsk-header-extended__search-input--focus');\n  }\n};\n\n/**\n * Handle open/hide language switcher\n * @param {object} e\n */\nHeaderExtended.prototype.handleLanguageSwitcherClick = function (e) {\n  var $toggleButton = e.target || e.srcElement;\n  //var $target = $toggleButton.closest('.idsk-header-extended__language');\n  this.$activeSearch = $toggleButton.closest('.idsk-header-extended__language');\n  toggleClass(this.$activeSearch, 'idsk-header-extended__language--active');\n  document.addEventListener('click', this.$module.boundCheckBlurLanguageSwitcherClick, true);\n};\n\n/**\n * handle click outside language switcher or \"blur\" the item link\n */\nHeaderExtended.prototype.checkBlurLanguageSwitcherClick = function () {\n  //var $target = this.$module.querySelectorAll('.idsk-header-extended__language');\n  this.$activeSearch.classList.remove('idsk-header-extended__language--active');\n  document.removeEventListener('click', this.$module.boundCheckBlurLanguageSwitcherClick, true);\n};\n\n/**\n * Handle open/hide submenu\n * @param {object} e\n */\nHeaderExtended.prototype.handleSubmenuClick = function (e) {\n  var $srcEl = e.target || e.srcElement;\n  var $toggleButton = $srcEl.closest('.idsk-header-extended__navigation-item');\n  var $currActiveList = this.$module.querySelectorAll('.idsk-header-extended__navigation-item--active');\n  if ($currActiveList.length > 0) {\n    $currActiveList[0].classList.remove('idsk-header-extended__navigation-item--active');\n  }\n  toggleClass($toggleButton, 'idsk-header-extended__navigation-item--active');\n  document.addEventListener('click', this.$module.boundCheckBlurMenuItemClick, true);\n};\n\n/**\n * handle click outside menu or \"blur\" the item link\n */\nHeaderExtended.prototype.checkBlurMenuItemClick = function () {\n  var $currActiveList = this.$module.querySelectorAll('.idsk-header-extended__navigation-item--active');\n  $currActiveList[0].classList.remove('idsk-header-extended__navigation-item--active');\n  document.removeEventListener('click', this.$module.boundCheckBlurMenuItemClick, true);\n};\n\n/**\n * Show mobile menu\n * @param {object} e\n */\nHeaderExtended.prototype.showMobileMenu = function (e) {\n  var $hamburgerMenuButton = this.$module.querySelector('.idsk-js-header-extended-side-menu');\n  this.$module.classList.add(\"idsk-header-extended--show-mobile-menu\");\n  document.getElementsByTagName(\"body\")[0].style.overflow = \"hidden\";\n  if (document.activeElement == $hamburgerMenuButton) {\n    this.$lastMenuElement.focus();\n  }\n};\n/**\n * Hide mobile menu\n * @param {object} e\n */\nHeaderExtended.prototype.hideMobileMenu = function (e) {\n  var $hamburgerMenuButton = this.$module.querySelector('.idsk-js-header-extended-side-menu');\n  this.$module.classList.remove(\"idsk-header-extended--show-mobile-menu\");\n  document.getElementsByTagName(\"body\")[0].style.overflow = \"visible\";\n  $hamburgerMenuButton.focus();\n};\n\n/**\n * Create loop in mobile menu for tabbing elements\n */\nHeaderExtended.prototype.initMobileMenuTabbing = function () {\n  //Get header extended mobile menu focusable elements\n  var $headerExtended = this.$module.querySelectorAll('.idsk-header-extended__mobile')[0];\n  var $mobileMenuElements = $headerExtended.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\n  this.$firstMenuElement = $mobileMenuElements[0];\n  this.$lastMenuElement = $mobileMenuElements[$mobileMenuElements.length - 1];\n  var KEYCODE_TAB = 9;\n  document.addEventListener('keydown', function (e) {\n    var isTabPressed = e.key === 'Tab' || e.keyCode === KEYCODE_TAB;\n    if (!isTabPressed) {\n      return;\n    }\n    if (e.shiftKey) {\n      // shift + tab\n      if (document.activeElement === this.$firstMenuElement) {\n        this.$lastMenuElement.focus();\n        e.preventDefault();\n      }\n    } else if (document.activeElement === this.$lastMenuElement) {\n      // tab\n      this.$firstMenuElement.focus();\n      e.preventDefault();\n    }\n  }.bind(this));\n};\n\n/**\n * When the user scrolls down from the top of the document, resize the navbar's padding and the logo\n */\nHeaderExtended.prototype.scrollFunction = function () {\n  var $module = this.$module;\n  if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n    $module.classList.add('idsk-header-extended--shrink');\n  } else if (document.body.scrollTop < 10 && document.documentElement.scrollTop < 10) {\n    $module.classList.remove('idsk-header-extended--shrink');\n  }\n};\nexport default HeaderExtended;","map":{"version":3,"names":["nodeListForEach","toggleClass","HeaderExtended","$module","$lastMenuElement","$firstMenuElement","prototype","init","$searchComponents","querySelectorAll","$searchComponent","addEventListener","handleSearchChange","bind","dispatchEvent","Event","$toggleLanguageSwitchers","$toggleLanguageSwitcher","handleLanguageSwitcherClick","$lastLanguageItems","$lastLanguageItem","checkBlurLanguageSwitcherClick","$menuItems","$menuItem","handleSubmenuClick","$hamburgerMenuButton","querySelector","$closeMenuButton","initMobileMenuTabbing","showMobileMenu","hideMobileMenu","window","scrollFunction","boundCheckBlurMenuItemClick","checkBlurMenuItemClick","boundCheckBlurLanguageSwitcherClick","localStorage","getItem","classList","add","$cookieBanner","document","headerPosition","body","getBoundingClientRect","top","cookieBannerHeight","offsetHeight","remove","style","toString","resizeObserver","ResizeObserver","observe","e","$searchInput","target","srcElement","$search","closest","$searchLabel","value","$toggleButton","$activeSearch","removeEventListener","$srcEl","$currActiveList","length","getElementsByTagName","overflow","activeElement","focus","$headerExtended","$mobileMenuElements","KEYCODE_TAB","isTabPressed","key","keyCode","shiftKey","preventDefault","scrollTop","documentElement"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/header-extended/header-extended.js"],"sourcesContent":["import '../../../govuk/vendor/polyfills/Function/prototype/bind'\nimport '../../../govuk/vendor/polyfills/Event' // addEventListener and event.target normalization\nimport { nodeListForEach, toggleClass } from '../../common'\n\n/**\n * Header for extended websites\n */\nfunction HeaderExtended($module) {\n    this.$module = $module;\n    this.$lastMenuElement = '';\n    this.$firstMenuElement = '';\n}\n\nHeaderExtended.prototype.init = function () {\n\n    var $module = this.$module;\n    // check for module\n    if (!$module) {\n        return;\n    }\n\n    // check for search component\n    var $searchComponents = $module.querySelectorAll('.idsk-header-extended__search');\n    if ($searchComponents) {\n        nodeListForEach($searchComponents, function ($searchComponent) {\n            $searchComponent.addEventListener('change', this.handleSearchChange.bind(this))\n            // trigger change event\n            $searchComponent.dispatchEvent(new Event('change'));\n        }.bind(this))\n    }\n\n    // check for language switcher\n    var $toggleLanguageSwitchers = $module.querySelectorAll('.idsk-header-extended__language-button');\n    if ($toggleLanguageSwitchers) {\n        // Handle $toggleLanguageSwitcher click events\n        nodeListForEach($toggleLanguageSwitchers, function ($toggleLanguageSwitcher) {\n            $toggleLanguageSwitcher.addEventListener('click', this.handleLanguageSwitcherClick.bind(this));\n            $toggleLanguageSwitcher.addEventListener('focus', this.handleLanguageSwitcherClick.bind(this));\n        }.bind(this))\n\n        // close language list if i left the last item from langauge list e.g. if user use tab key for navigations\n        var $lastLanguageItems = $module.querySelectorAll('.idsk-header-extended__language-list-item:last-child .idsk-header-extended__language-list-link');\n        nodeListForEach($lastLanguageItems, function ($lastLanguageItem) {\n            $lastLanguageItem.addEventListener('blur', this.checkBlurLanguageSwitcherClick.bind(this));\n        }.bind(this))\n\n    }\n\n    // check for menu items\n    var $menuItems = $module.querySelectorAll('.idsk-header-extended__link');\n    if ($menuItems) {\n        // Handle $menuItem click events\n        nodeListForEach($menuItems, function ($menuItem) {\n            $menuItem.addEventListener('click', this.handleSubmenuClick.bind(this));\n            $menuItem.addEventListener('focus', this.handleSubmenuClick.bind(this));\n        }.bind(this))\n    }\n\n    // check for menu button and close menu button\n    var $hamburgerMenuButton = $module.querySelector('.idsk-js-header-extended-side-menu');\n    var $closeMenuButton = $module.querySelector('.idsk-header-extended__mobile-close');\n    if ($hamburgerMenuButton && $closeMenuButton) {\n        this.initMobileMenuTabbing();\n        $hamburgerMenuButton.addEventListener('click', this.showMobileMenu.bind(this));\n        $closeMenuButton.addEventListener('click', this.hideMobileMenu.bind(this));\n    }\n\n    window.addEventListener('scroll', this.scrollFunction.bind(this));\n\n    $module.boundCheckBlurMenuItemClick = this.checkBlurMenuItemClick.bind(this);\n    $module.boundCheckBlurLanguageSwitcherClick = this.checkBlurLanguageSwitcherClick.bind(this);\n\n    // check for cookies\n\n    if (!(window.localStorage.getItem('acceptedCookieBanner'))) {\n        $module.classList.add('idsk-header-extended--cookie');\n        var $cookieBanner = document.querySelector('.idsk-cookie-banner');\n\n        if ($cookieBanner) {\n            // scroll handler\n            window.addEventListener('scroll', function () {\n                var headerPosition = document.body.getBoundingClientRect().top;\n                var cookieBannerHeight = $cookieBanner.offsetHeight;\n                if (headerPosition < (-cookieBannerHeight)) {\n                    $module.classList.remove('idsk-header-extended--cookie');\n                    $module.style.top = '0px';\n                } else {\n                    $module.classList.add('idsk-header-extended--cookie');\n                    $module.style.top = cookieBannerHeight.toString() + 'px';\n                }\n            });\n\n            // cookie resize handler\n            var resizeObserver = new ResizeObserver(function () {\n                $module.style.top = $cookieBanner.offsetHeight.toString() + 'px';\n            });\n\n            resizeObserver.observe($cookieBanner);\n        }\n\n    }\n\n}\n\n/**\n * Hide label if search input is not empty\n * @param {object} e\n */\nHeaderExtended.prototype.handleSearchChange = function (e) {\n    var $searchInput = e.target || e.srcElement;\n    var $search = $searchInput.closest('.idsk-header-extended__search')\n    var $searchLabel = $search.querySelector('label')\n    if ($searchInput.value) {\n        $searchLabel.classList.add('idsk-header-extended__search-input--focus')\n    } else {\n        $searchLabel.classList.remove('idsk-header-extended__search-input--focus')\n    }\n}\n\n/**\n * Handle open/hide language switcher\n * @param {object} e\n */\nHeaderExtended.prototype.handleLanguageSwitcherClick = function (e) {\n    var $toggleButton = e.target || e.srcElement;\n    //var $target = $toggleButton.closest('.idsk-header-extended__language');\n    this.$activeSearch = $toggleButton.closest('.idsk-header-extended__language');\n    toggleClass(this.$activeSearch, 'idsk-header-extended__language--active');\n    document.addEventListener('click', this.$module.boundCheckBlurLanguageSwitcherClick, true);\n}\n\n/**\n * handle click outside language switcher or \"blur\" the item link\n */\nHeaderExtended.prototype.checkBlurLanguageSwitcherClick = function () {\n    //var $target = this.$module.querySelectorAll('.idsk-header-extended__language');\n    this.$activeSearch.classList.remove('idsk-header-extended__language--active');\n    document.removeEventListener('click', this.$module.boundCheckBlurLanguageSwitcherClick, true);\n}\n\n/**\n * Handle open/hide submenu\n * @param {object} e\n */\nHeaderExtended.prototype.handleSubmenuClick = function (e) {\n    var $srcEl = e.target || e.srcElement;\n    var $toggleButton = $srcEl.closest('.idsk-header-extended__navigation-item');\n    var $currActiveList = this.$module.querySelectorAll('.idsk-header-extended__navigation-item--active');\n\n    if ($currActiveList.length > 0) {\n        $currActiveList[0].classList.remove('idsk-header-extended__navigation-item--active');\n    }\n    toggleClass($toggleButton, 'idsk-header-extended__navigation-item--active');\n\n    document.addEventListener('click', this.$module.boundCheckBlurMenuItemClick, true);\n}\n\n/**\n * handle click outside menu or \"blur\" the item link\n */\nHeaderExtended.prototype.checkBlurMenuItemClick = function () {\n    var $currActiveList = this.$module.querySelectorAll('.idsk-header-extended__navigation-item--active');\n    $currActiveList[0].classList.remove('idsk-header-extended__navigation-item--active');\n    document.removeEventListener('click', this.$module.boundCheckBlurMenuItemClick, true);\n}\n\n/**\n * Show mobile menu\n * @param {object} e\n */\nHeaderExtended.prototype.showMobileMenu = function (e) {\n    var $hamburgerMenuButton = this.$module.querySelector('.idsk-js-header-extended-side-menu');\n\n    this.$module.classList.add(\"idsk-header-extended--show-mobile-menu\");\n    document.getElementsByTagName(\"body\")[0].style.overflow = \"hidden\";\n    if (document.activeElement == $hamburgerMenuButton) {\n        this.$lastMenuElement.focus();\n    }\n}\n/**\n * Hide mobile menu\n * @param {object} e\n */\nHeaderExtended.prototype.hideMobileMenu = function (e) {\n    var $hamburgerMenuButton = this.$module.querySelector('.idsk-js-header-extended-side-menu');\n\n    this.$module.classList.remove(\"idsk-header-extended--show-mobile-menu\");\n    document.getElementsByTagName(\"body\")[0].style.overflow = \"visible\";\n    $hamburgerMenuButton.focus();\n}\n\n/**\n * Create loop in mobile menu for tabbing elements\n */\nHeaderExtended.prototype.initMobileMenuTabbing = function () {\n    //Get header extended mobile menu focusable elements\n    var $headerExtended = this.$module.querySelectorAll('.idsk-header-extended__mobile')[0];\n    var $mobileMenuElements = $headerExtended.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\n    this.$firstMenuElement = $mobileMenuElements[0];\n    this.$lastMenuElement = $mobileMenuElements[$mobileMenuElements.length - 1];\n    var KEYCODE_TAB = 9;\n\n    document.addEventListener('keydown', function (e) {\n        var isTabPressed = (e.key === 'Tab' || e.keyCode === KEYCODE_TAB);\n\n        if (!isTabPressed) {\n            return;\n        }\n\n        if (e.shiftKey) { // shift + tab\n            if (document.activeElement === this.$firstMenuElement) {\n                this.$lastMenuElement.focus();\n                e.preventDefault();\n            }\n        } else if (document.activeElement === this.$lastMenuElement) { // tab\n            this.$firstMenuElement.focus();\n            e.preventDefault();\n        }\n\n    }.bind(this));\n}\n\n/**\n * When the user scrolls down from the top of the document, resize the navbar's padding and the logo\n */\nHeaderExtended.prototype.scrollFunction = function () {\n    var $module = this.$module;\n\n    if (document.body.scrollTop > 80 || document.documentElement.scrollTop > 80) {\n        $module.classList.add('idsk-header-extended--shrink');\n    } else if (document.body.scrollTop < 10 && document.documentElement.scrollTop < 10) {\n        $module.classList.remove('idsk-header-extended--shrink');\n    }\n}\n\nexport default HeaderExtended\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}