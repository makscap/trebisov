{"ast":null,"code":"import \"core-js/modules/es.function.bind.js\";\nimport \"core-js/modules/web.timers.js\";\nimport '../../../govuk/vendor/polyfills/Function/prototype/bind';\nimport '../../../govuk/vendor/polyfills/Event'; // addEventListener and event.target normalization\nimport { nodeListForEach } from '../../common';\n\n/**\n * Feedback for extended websites\n */\nfunction Feedback($module) {\n  this.$module = $module;\n}\nFeedback.prototype.init = function () {\n  var $module = this.$module;\n  // check for module\n  if (!$module) {\n    return;\n  }\n  var $textAreaCharacterCount = $module.querySelector('#idsk-feedback__question-bar #feedback');\n  var $sendButton = $module.querySelector('#idsk-feedback__send-button');\n  var $radioButtons = $module.querySelectorAll('.idsk-feedback__radio-button');\n  if ($radioButtons) {\n    var $self = this;\n    // Handle $radioButtons click events\n    nodeListForEach($radioButtons, function ($radioButton) {\n      $radioButton.addEventListener('click', $self.handleRadioButtonClick.bind($self));\n    });\n  }\n  if ($sendButton) {\n    $sendButton.addEventListener('click', this.handleSendButtonClick.bind(this));\n  }\n  if ($textAreaCharacterCount) {\n    $textAreaCharacterCount.addEventListener('input', this.handleStatusOfCharacterCountButton.bind(this));\n  }\n};\nFeedback.prototype.handleSendButtonClick = function (e) {\n  var $thanksForFeedbackBar = this.$module.querySelector('#idsk-feedback__thanks');\n  var $feedbackContent = this.$module.querySelector('#idsk-feedback__content');\n  $feedbackContent.classList.add('idsk-feedback--hidden');\n  $thanksForFeedbackBar.classList.remove('idsk-feedback--hidden');\n};\nFeedback.prototype.handleRadioButtonClick = function (e) {\n  var $improoveQuestionBar = this.$module.querySelector('#idsk-feedback__question-bar');\n  if (e.srcElement.classList.contains('idsk-feedback-textarea--show')) {\n    $improoveQuestionBar.classList.add('idsk-feedback--open');\n    $improoveQuestionBar.classList.remove('idsk-feedback--invisible');\n  } else {\n    $improoveQuestionBar.classList.remove('idsk-feedback--open');\n    $improoveQuestionBar.classList.add('idsk-feedback--invisible');\n  }\n};\nFeedback.prototype.handleStatusOfCharacterCountButton = function (e) {\n  var $textAreaCharacterCount = this.$module.querySelector('#feedback');\n  var $remainingCharacterCountMessage = this.$module.querySelector('#feedback-info');\n  var $submitButton = this.$module.querySelector('#idsk-feedback__send-button');\n  setTimeout(function () {\n    if ($textAreaCharacterCount.classList.contains('govuk-textarea--error') || $remainingCharacterCountMessage.classList.contains('govuk-error-message')) {\n      $submitButton.disabled = true;\n    } else {\n      $submitButton.disabled = false;\n    }\n  }, 300);\n};\nexport default Feedback;","map":{"version":3,"names":["nodeListForEach","Feedback","$module","prototype","init","$textAreaCharacterCount","querySelector","$sendButton","$radioButtons","querySelectorAll","$self","$radioButton","addEventListener","handleRadioButtonClick","bind","handleSendButtonClick","handleStatusOfCharacterCountButton","e","$thanksForFeedbackBar","$feedbackContent","classList","add","remove","$improoveQuestionBar","srcElement","contains","$remainingCharacterCountMessage","$submitButton","setTimeout","disabled"],"sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/node_modules/@id-sk/frontend/idsk/components/feedback/feedback.js"],"sourcesContent":["import '../../../govuk/vendor/polyfills/Function/prototype/bind'\nimport '../../../govuk/vendor/polyfills/Event' // addEventListener and event.target normalization\nimport { nodeListForEach } from '../../common'\n\n/**\n * Feedback for extended websites\n */\nfunction Feedback($module) {\n    this.$module = $module;\n}\n\nFeedback.prototype.init = function () {\n    var $module = this.$module;\n    // check for module\n    if (!$module) {\n        return;\n    }\n\n    var $textAreaCharacterCount = $module.querySelector('#idsk-feedback__question-bar #feedback');\n    var $sendButton = $module.querySelector('#idsk-feedback__send-button');\n    var $radioButtons = $module.querySelectorAll('.idsk-feedback__radio-button');\n\n    if ($radioButtons) {\n        var $self = this;\n        // Handle $radioButtons click events\n        nodeListForEach($radioButtons, function ($radioButton) {\n            $radioButton.addEventListener('click', $self.handleRadioButtonClick.bind($self));\n        })\n    }\n\n    if ($sendButton) {\n        $sendButton.addEventListener('click', this.handleSendButtonClick.bind(this));\n    }\n\n    if ($textAreaCharacterCount) {\n        $textAreaCharacterCount.addEventListener('input', this.handleStatusOfCharacterCountButton.bind(this));\n    }\n}\n\nFeedback.prototype.handleSendButtonClick = function (e) {\n    var $thanksForFeedbackBar = this.$module.querySelector('#idsk-feedback__thanks');\n    var $feedbackContent = this.$module.querySelector('#idsk-feedback__content');\n\n    $feedbackContent.classList.add('idsk-feedback--hidden');\n    $thanksForFeedbackBar.classList.remove('idsk-feedback--hidden');\n}\n\nFeedback.prototype.handleRadioButtonClick = function (e) {\n    var $improoveQuestionBar = this.$module.querySelector('#idsk-feedback__question-bar');\n\n    if (e.srcElement.classList.contains('idsk-feedback-textarea--show')) {\n        $improoveQuestionBar.classList.add('idsk-feedback--open');\n        $improoveQuestionBar.classList.remove('idsk-feedback--invisible');\n    } else {\n        $improoveQuestionBar.classList.remove('idsk-feedback--open');\n        $improoveQuestionBar.classList.add('idsk-feedback--invisible');\n    }\n}\n\nFeedback.prototype.handleStatusOfCharacterCountButton = function (e) {\n    var $textAreaCharacterCount = this.$module.querySelector('#feedback');\n    var $remainingCharacterCountMessage = this.$module.querySelector('#feedback-info');\n\n    var $submitButton = this.$module.querySelector('#idsk-feedback__send-button');\n\n    setTimeout(function () {\n        if ($textAreaCharacterCount.classList.contains('govuk-textarea--error') || $remainingCharacterCountMessage.classList.contains('govuk-error-message')) {\n            $submitButton.disabled = true;\n        } else {\n            $submitButton.disabled = false;\n        }\n    }, 300);\n}\n\nexport default Feedback\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}