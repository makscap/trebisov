{"ast":null,"code":"import \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport { renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nvar _withScopeId = function _withScopeId(n) {\n  return _pushScopeId(\"data-v-46e126d0\"), n = n(), _popScopeId(), n;\n};\nvar _hoisted_1 = {\n  key: 0,\n  \"class\": \"govuk-width-container breadcrumbs\"\n};\nvar _hoisted_2 = {\n  \"class\": \"govuk-breadcrumbs\"\n};\nvar _hoisted_3 = {\n  \"class\": \"govuk-breadcrumbs__list\"\n};\nvar _hoisted_4 = {\n  key: 0,\n  \"class\": \"fas fa-home icon\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  var _component_router_link = _resolveComponent(\"router-link\");\n  return !$data.home ? (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"ol\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.values, function (value, index) {\n    return _openBlock(), _createElementBlock(\"li\", {\n      \"class\": \"govuk-breadcrumbs__list-item\",\n      key: index\n    }, [$data.values.length - 1 > index ? (_openBlock(), _createBlock(_component_router_link, {\n      key: 0,\n      \"class\": \"govuk-breadcrumbs__link\",\n      title: 'Odkaz na podstránku ' + value,\n      to: $options.getBackUrl(index)\n    }, {\n      \"default\": _withCtx(function () {\n        return [!value ? (_openBlock(), _createElementBlock(\"i\", _hoisted_4)) : _createCommentVNode(\"v-if\", true), _createTextVNode(_toDisplayString(!value ? \"Domov\" : $options.getName(value, index) === \"null\" ? \"\" : $options.getName(value, index)), 1 /* TEXT */)];\n      }),\n\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"title\", \"to\"])) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString($data.values.length - 1 === index ? $options.getName(value, index) : \"\"), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])])])) : _createCommentVNode(\"v-if\", true);\n}","map":{"version":3,"mappings":";;;;;;;;EAEO,SAAM;;;EACJ,SAAM;AAAmB;;EACxB,SAAM;AAAyB;;;EAWzB,SAAM;;;;UAbkCA,UAAI,kBAA1DC,oBA0BM,OA1BNC,UA0BM,GAzBJC,oBAwBM,OAxBNC,UAwBM,GAvBJD,oBAsBK,MAtBLE,UAsBK,sBArBHJ,oBAoBKK,6BAlBsBN,YAAM,YAAvBO,KAAK,EAAEC,KAAK;yBAFtBP,oBAoBK;MAnBH,SAAM,8BAA8B;MAEnCQ,GAAG,EAAED;QAMER,YAAM,CAACU,MAAM,OAAOF,KAAK,kBAJjCG,aAaCC;;MAZC,SAAM,yBAAyB;MAC9BC,KAAK,2BAA2BN,KAAK;MACrCO,EAAE,EAAEC,mBAAU,CAACP,KAAK;;0BAEpB;QAAA,OACA,EADmCD,KAAK,kBAAxCN,oBACA,KADAe,UACA,2EACET,KAAK,aAA6CQ,gBAAO,CAACR,KAAK,EAAEC,KAAK,oBAAoDO,gBAAO,CAACR,KAAK,EAAEC,KAAK;;;;gHAMlJ,GACD,oBAAGR,YAAM,CAACU,MAAM,SAASF,KAAK,GAAGO,gBAAO,CAACR,KAAK,EAAEC,KAAK","names":["$data","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","value","index","key","length","_createBlock","_component_router_link","title","to","$options","_hoisted_4"],"sourceRoot":"","sources":["/Users/Maksym/Documents/GitHub/trebisov/frontend/src/components/Breadcrumbs.vue"],"sourcesContent":["/* eslint-disable */\n<template>\n  <div class=\"govuk-width-container breadcrumbs\" v-if=\"!home\">\n    <div class=\"govuk-breadcrumbs\">\n      <ol class=\"govuk-breadcrumbs__list\">\n        <li\n          class=\"govuk-breadcrumbs__list-item\"\n          v-for=\"(value, index) in values\"\n          :key=\"index\"\n        >\n          <router-link\n            class=\"govuk-breadcrumbs__link\"\n            :title=\"'Odkaz na podstránku ' + value\"\n            :to=\"getBackUrl(index)\"\n            v-if=\"values.length - 1 > index\"\n            ><i class=\"fas fa-home icon\" v-if=\"!value\"></i\n            >{{\n              !value\n                ? \"Domov\"\n                : getName(value, index) === \"null\"\n                ? \"\"\n                : getName(value, index)\n            }}</router-link\n          >\n          {{ values.length - 1 === index ? getName(value, index) : \"\" }}\n        </li>\n      </ol>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { routes } from \"@/router\";\nimport statisticsData from \"../assets/statistics.json\";\n\nexport default {\n  data() {\n    return {\n      values: [],\n      article: {},\n      home: false,\n      types: [\n        { name: \"aktivity\", title: \"Aktivity\" },\n        { name: \"chodci\", title: \"Chodci\" },\n        { name: \"cyklisti\", title: \"Cyklisti\" },\n        { name: \"deti\", title: \"Deti\" },\n        { name: \"mladi-vodici\", title: \"Mladí vodiči\" },\n        { name: \"motocyklisti\", title: \"Motocyklisti\" },\n        { name: \"profesionali\", title: \"Profesionáli\" },\n        { name: \"seniori\", title: \"Seniori\" },\n        { name: \"vizia-nula\", title: \"Vízia nula\" },\n        { name: \"vodici\", title: \"Vodiči\" },\n        { name: \"becep\", title: \"BECEP\" },\n      ],\n    };\n  },\n  name: \"BreadcrumbsComponent\",\n  beforeMount() {\n    this.types.forEach((element) => {\n      routes.push({ name: element.name, title: element.title });\n    });\n    this.setValues();\n  },\n  mounted() {\n    if (this.$route.query.id) {\n      // console.log(\"sth\");\n      this.getArticle();\n    }\n  },\n  watch: {\n    // eslint-disable-next-line no-unused-vars\n    $route() {\n      this.setValues();\n    },\n  },\n  methods: {\n    setValues() {\n      this.values = this.$route.path.split(\"/\");\n      // console.log(\"routes\", routes);\n      if (this.$route.query.id) this.values.push(\"name\");\n      if (this.$route.query.id) {\n        // console.log(\"sth\");\n        this.getArticle();\n      }\n      this.home = this.$route.path === \"/\";\n    },\n    getName(value, index) {\n      let route = routes.find((route) => route.name === value);\n      if (\n        this.$route.fullPath.includes(\"vyhladavanie\") &&\n        index === this.values.length - 1\n      ) {\n        route = {\n          title: \"Hľadať: \" + this.$route.query.search,\n        };\n      }\n      if (\n        this.$route.fullPath.includes(\"statistiky/\") &&\n        index === this.values.length - 1\n      ) {\n        route = {\n          title:\n            statisticsData[parseInt(this.values[this.values.length - 1]) - 1]\n              .title,\n        };\n      }\n      if (value === \"name\") {\n        route = {\n          title: this.article.name,\n        };\n      }\n      return route ? route.title : \"null\";\n    },\n    getBackUrl(index) {\n      let url = \"\";\n      this.values.forEach((value, i) => {\n        if (value && i <= index) url += \"/\" + value;\n      });\n      if (!url) url = \"/\";\n      // console.log(\"final url\", url);\n      return url;\n    },\n    async getArticle() {\n      const res = await fetch(\n        process.env.VUE_APP_API_URL +\n          `/articles/${this.$route.query.id}/?fields[0]=name`\n      );\n      const jsonData = await res.json();\n      this.article = jsonData.data.attributes;\n    },\n  },\n};\n</script>\n\n<style scoped>\n.breadcrumbs {\n  width: 100%;\n}\n@media screen and (max-width: 1020px) {\n  .breadcrumbs {\n    width: auto;\n  }\n}\n.icon {\n  margin-right: 10px;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}